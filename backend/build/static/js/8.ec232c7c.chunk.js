(this["webpackJsonpquotation-maker"]=this["webpackJsonpquotation-maker"]||[]).push([[8],{192:function(e,t,r){"use strict";var a,s,n,o,i,c,l,d,u,m,p,x,b,y,f,j,h,g=r(193).default,v=r(194).default,O=Object.create,k=Object.defineProperty,N=Object.getOwnPropertyDescriptor,w=Object.getOwnPropertyNames,C=Object.getPrototypeOf,E=Object.prototype.hasOwnProperty,P=(e,t,r,a)=>{if(t&&"object"==typeof t||"function"==typeof t)for(let s of w(t))!E.call(e,s)&&s!==r&&k(e,s,{get:()=>t[s],enumerable:!(a=N(t,s))||a.enumerable});return e},A=(e,t,r)=>(r=null!=e?O(C(e)):{},P(!t&&e&&e.__esModule?r:k(r,"default",{value:e,enumerable:!0}),e)),D={};((e,t)=>{for(var r in t)k(e,r,{get:t[r],enumerable:!0})})(D,{CheckmarkIcon:()=>de,ErrorIcon:()=>ae,LoaderIcon:()=>oe,ToastBar:()=>ge,ToastIcon:()=>be,Toaster:()=>we,default:()=>Ce,resolveValue:()=>S,toast:()=>G,useToaster:()=>W,useToasterStore:()=>V}),e.exports=(h=D,P(k({},"__esModule",{value:!0}),h));var S=(e,t)=>(e=>"function"==typeof e)(e)?e(t):e,F=(()=>{let e=0;return()=>(++e).toString()})(),q=(()=>{let e;return()=>{if(void 0===e&&typeof window<"u"){let t=matchMedia("(prefers-reduced-motion: reduce)");e=!t||t.matches}return e}})(),B=r(1),_="default",I=(e,t)=>{let{toastLimit:r}=e.settings;switch(t.type){case 0:return v(v({},e),{},{toasts:[t.toast,...e.toasts].slice(0,r)});case 1:return v(v({},e),{},{toasts:e.toasts.map(e=>e.id===t.toast.id?v(v({},e),t.toast):e)});case 2:let{toast:a}=t;return I(e,{type:e.toasts.find(e=>e.id===a.id)?1:0,toast:a});case 3:let{toastId:s}=t;return v(v({},e),{},{toasts:e.toasts.map(e=>e.id===s||void 0===s?v(v({},e),{},{dismissed:!0,visible:!1}):e)});case 4:return void 0===t.toastId?v(v({},e),{},{toasts:[]}):v(v({},e),{},{toasts:e.toasts.filter(e=>e.id!==t.toastId)});case 5:return v(v({},e),{},{pausedAt:t.time});case 6:let n=t.time-(e.pausedAt||0);return v(v({},e),{},{pausedAt:void 0,toasts:e.toasts.map(e=>v(v({},e),{},{pauseDuration:e.pauseDuration+n}))})}},T=[],z={toasts:[],pausedAt:void 0,settings:{toastLimit:20}},M={},U=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:_;M[t]=I(M[t]||z,e),T.forEach(e=>{let[r,a]=e;r===t&&a(M[t])})},L=e=>Object.keys(M).forEach(t=>U(e,t)),R=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:_;return t=>{U(t,e)}},Q={blank:4e3,error:4e3,success:2e3,loading:1/0,custom:4e3},V=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:_,[r,a]=(0,B.useState)(M[t]||z),s=(0,B.useRef)(M[t]);(0,B.useEffect)(()=>(s.current!==M[t]&&a(M[t]),T.push([t,a]),()=>{let e=T.findIndex(e=>{let[r]=e;return r===t});e>-1&&T.splice(e,1)}),[t]);let n=r.toasts.map(t=>{var r,a,s;return v(v(v(v({},e),e[t.type]),t),{},{removeDelay:t.removeDelay||(null==(r=e[t.type])?void 0:r.removeDelay)||(null==e?void 0:e.removeDelay),duration:t.duration||(null==(a=e[t.type])?void 0:a.duration)||(null==e?void 0:e.duration)||Q[t.type],style:v(v(v({},e.style),null==(s=e[t.type])?void 0:s.style),t.style)})});return v(v({},r),{},{toasts:n})},H=e=>(t,r)=>{let a=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"blank",r=arguments.length>2?arguments[2]:void 0;return v(v({createdAt:Date.now(),visible:!0,dismissed:!1,type:t,ariaProps:{role:"status","aria-live":"polite"},message:e,pauseDuration:0},r),{},{id:(null==r?void 0:r.id)||F()})}(t,e,r);return R(a.toasterId||(e=>Object.keys(M).find(t=>M[t].toasts.some(t=>t.id===e)))(a.id))({type:2,toast:a}),a.id},G=(e,t)=>H("blank")(e,t);G.error=H("error"),G.success=H("success"),G.loading=H("loading"),G.custom=H("custom"),G.dismiss=(e,t)=>{let r={type:3,toastId:e};t?R(t)(r):L(r)},G.dismissAll=e=>G.dismiss(void 0,e),G.remove=(e,t)=>{let r={type:4,toastId:e};t?R(t)(r):L(r)},G.removeAll=e=>G.remove(void 0,e),G.promise=(e,t,r)=>{let a=G.loading(t.loading,v(v({},r),null==r?void 0:r.loading));return"function"==typeof e&&(e=e()),e.then(e=>{let s=t.success?S(t.success,e):void 0;return s?G.success(s,v(v({id:a},r),null==r?void 0:r.success)):G.dismiss(a),e}).catch(e=>{let s=t.error?S(t.error,e):void 0;s?G.error(s,v(v({id:a},r),null==r?void 0:r.error)):G.dismiss(a)}),e};var J=r(1),W=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"default",{toasts:r,pausedAt:a}=V(e,t),s=(0,J.useRef)(new Map).current,n=(0,J.useCallback)(function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1e3;if(s.has(e))return;let r=setTimeout(()=>{s.delete(e),o({type:4,toastId:e})},t);s.set(e,r)},[]);(0,J.useEffect)(()=>{if(a)return;let e=Date.now(),s=r.map(r=>{if(r.duration===1/0)return;let a=(r.duration||0)+r.pauseDuration-(e-r.createdAt);if(!(a<0))return setTimeout(()=>G.dismiss(r.id,t),a);r.visible&&G.dismiss(r.id)});return()=>{s.forEach(e=>e&&clearTimeout(e))}},[r,a,t]);let o=(0,J.useCallback)(R(t),[t]),i=(0,J.useCallback)(()=>{o({type:5,time:Date.now()})},[o]),c=(0,J.useCallback)((e,t)=>{o({type:1,toast:{id:e,height:t}})},[o]),l=(0,J.useCallback)(()=>{a&&o({type:6,time:Date.now()})},[a,o]),d=(0,J.useCallback)((e,t)=>{let{reverseOrder:a=!1,gutter:s=8,defaultPosition:n}=t||{},o=r.filter(t=>(t.position||n)===(e.position||n)&&t.height),i=o.findIndex(t=>t.id===e.id),c=o.filter((e,t)=>t<i&&e.visible).length;return o.filter(e=>e.visible).slice(...a?[c+1]:[0,c]).reduce((e,t)=>e+(t.height||0)+s,0)},[r]);return(0,J.useEffect)(()=>{r.forEach(e=>{if(e.dismissed)n(e.id,e.removeDelay);else{let t=s.get(e.id);t&&(clearTimeout(t),s.delete(e.id))}})},[r,n]),{toasts:r,handlers:{updateHeight:c,startPause:i,endPause:l,calculateOffset:d}}},Y=A(r(1)),Z=r(59),$=A(r(1)),K=r(59),X=r(59),ee=X.keyframes(a||(a=g(["\nfrom {\n  transform: scale(0) rotate(45deg);\n\topacity: 0;\n}\nto {\n transform: scale(1) rotate(45deg);\n  opacity: 1;\n}"]))),te=X.keyframes(s||(s=g(["\nfrom {\n  transform: scale(0);\n  opacity: 0;\n}\nto {\n  transform: scale(1);\n  opacity: 1;\n}"]))),re=X.keyframes(n||(n=g(["\nfrom {\n  transform: scale(0) rotate(90deg);\n\topacity: 0;\n}\nto {\n  transform: scale(1) rotate(90deg);\n\topacity: 1;\n}"]))),ae=(0,X.styled)("div")(o||(o=g(["\n  width: 20px;\n  opacity: 0;\n  height: 20px;\n  border-radius: 10px;\n  background: ",";\n  position: relative;\n  transform: rotate(45deg);\n\n  animation: "," 0.3s cubic-bezier(0.175, 0.885, 0.32, 1.275)\n    forwards;\n  animation-delay: 100ms;\n\n  &:after,\n  &:before {\n    content: '';\n    animation: "," 0.15s ease-out forwards;\n    animation-delay: 150ms;\n    position: absolute;\n    border-radius: 3px;\n    opacity: 0;\n    background: ",";\n    bottom: 9px;\n    left: 4px;\n    height: 2px;\n    width: 12px;\n  }\n\n  &:before {\n    animation: "," 0.15s ease-out forwards;\n    animation-delay: 180ms;\n    transform: rotate(90deg);\n  }\n"])),e=>e.primary||"#ff4b4b",ee,te,e=>e.secondary||"#fff",re),se=r(59),ne=se.keyframes(i||(i=g(["\n  from {\n    transform: rotate(0deg);\n  }\n  to {\n    transform: rotate(360deg);\n  }\n"]))),oe=(0,se.styled)("div")(c||(c=g(["\n  width: 12px;\n  height: 12px;\n  box-sizing: border-box;\n  border: 2px solid;\n  border-radius: 100%;\n  border-color: ",";\n  border-right-color: ",";\n  animation: "," 1s linear infinite;\n"])),e=>e.secondary||"#e0e0e0",e=>e.primary||"#616161",ne),ie=r(59),ce=ie.keyframes(l||(l=g(["\nfrom {\n  transform: scale(0) rotate(45deg);\n\topacity: 0;\n}\nto {\n  transform: scale(1) rotate(45deg);\n\topacity: 1;\n}"]))),le=ie.keyframes(d||(d=g(["\n0% {\n\theight: 0;\n\twidth: 0;\n\topacity: 0;\n}\n40% {\n  height: 0;\n\twidth: 6px;\n\topacity: 1;\n}\n100% {\n  opacity: 1;\n  height: 10px;\n}"]))),de=(0,ie.styled)("div")(u||(u=g(["\n  width: 20px;\n  opacity: 0;\n  height: 20px;\n  border-radius: 10px;\n  background: ",";\n  position: relative;\n  transform: rotate(45deg);\n\n  animation: "," 0.3s cubic-bezier(0.175, 0.885, 0.32, 1.275)\n    forwards;\n  animation-delay: 100ms;\n  &:after {\n    content: '';\n    box-sizing: border-box;\n    animation: "," 0.2s ease-out forwards;\n    opacity: 0;\n    animation-delay: 200ms;\n    position: absolute;\n    border-right: 2px solid;\n    border-bottom: 2px solid;\n    border-color: ",";\n    bottom: 6px;\n    left: 6px;\n    height: 10px;\n    width: 6px;\n  }\n"])),e=>e.primary||"#61d345",ce,le,e=>e.secondary||"#fff"),ue=(0,K.styled)("div")(m||(m=g(["\n  position: absolute;\n"]))),me=(0,K.styled)("div")(p||(p=g(["\n  position: relative;\n  display: flex;\n  justify-content: center;\n  align-items: center;\n  min-width: 20px;\n  min-height: 20px;\n"]))),pe=K.keyframes(x||(x=g(["\nfrom {\n  transform: scale(0.6);\n  opacity: 0.4;\n}\nto {\n  transform: scale(1);\n  opacity: 1;\n}"]))),xe=(0,K.styled)("div")(b||(b=g(["\n  position: relative;\n  transform: scale(0.6);\n  opacity: 0.4;\n  min-width: 20px;\n  animation: "," 0.3s 0.12s cubic-bezier(0.175, 0.885, 0.32, 1.275)\n    forwards;\n"])),pe),be=e=>{let{toast:t}=e,{icon:r,type:a,iconTheme:s}=t;return void 0!==r?"string"==typeof r?$.createElement(xe,null,r):r:"blank"===a?null:$.createElement(me,null,$.createElement(oe,v({},s)),"loading"!==a&&$.createElement(ue,null,"error"===a?$.createElement(ae,v({},s)):$.createElement(de,v({},s))))},ye=e=>"\n0% {transform: translate3d(0,".concat(-200*e,"%,0) scale(.6); opacity:.5;}\n100% {transform: translate3d(0,0,0) scale(1); opacity:1;}\n"),fe=e=>"\n0% {transform: translate3d(0,0,-1px) scale(1); opacity:1;}\n100% {transform: translate3d(0,".concat(-150*e,"%,-1px) scale(.6); opacity:0;}\n"),je=(0,Z.styled)("div")(y||(y=g(["\n  display: flex;\n  align-items: center;\n  background: #fff;\n  color: #363636;\n  line-height: 1.3;\n  will-change: transform;\n  box-shadow: 0 3px 10px rgba(0, 0, 0, 0.1), 0 3px 3px rgba(0, 0, 0, 0.05);\n  max-width: 350px;\n  pointer-events: auto;\n  padding: 8px 10px;\n  border-radius: 8px;\n"]))),he=(0,Z.styled)("div")(f||(f=g(["\n  display: flex;\n  justify-content: center;\n  margin: 4px 10px;\n  color: inherit;\n  flex: 1 1 auto;\n  white-space: pre-line;\n"]))),ge=Y.memo(e=>{let{toast:t,position:r,style:a,children:s}=e,n=t.height?((e,t)=>{let r=e.includes("top")?1:-1,[a,s]=q()?["0%{opacity:0;} 100%{opacity:1;}","0%{opacity:1;} 100%{opacity:0;}"]:[ye(r),fe(r)];return{animation:t?"".concat((0,Z.keyframes)(a)," 0.35s cubic-bezier(.21,1.02,.73,1) forwards"):"".concat((0,Z.keyframes)(s)," 0.4s forwards cubic-bezier(.06,.71,.55,1)")}})(t.position||r||"top-center",t.visible):{opacity:0},o=Y.createElement(be,{toast:t}),i=Y.createElement(he,v({},t.ariaProps),S(t.message,t));return Y.createElement(je,{className:t.className,style:v(v(v({},n),a),t.style)},"function"==typeof s?s({icon:o,message:i}):Y.createElement(Y.Fragment,null,o,i))}),ve=r(59),Oe=A(r(1));(0,ve.setup)(Oe.createElement);var ke=e=>{let{id:t,className:r,style:a,onHeightUpdate:s,children:n}=e,o=Oe.useCallback(e=>{if(e){let r=()=>{let r=e.getBoundingClientRect().height;s(t,r)};r(),new MutationObserver(r).observe(e,{subtree:!0,childList:!0,characterData:!0})}},[t,s]);return Oe.createElement("div",{ref:o,className:r,style:a},n)},Ne=ve.css(j||(j=g(["\n  z-index: 9999;\n  > * {\n    pointer-events: auto;\n  }\n"]))),we=e=>{let{reverseOrder:t,position:r="top-center",toastOptions:a,gutter:s,children:n,toasterId:o,containerStyle:i,containerClassName:c}=e,{toasts:l,handlers:d}=W(a,o);return Oe.createElement("div",{"data-rht-toaster":o||"",style:v({position:"fixed",zIndex:9999,top:16,left:16,right:16,bottom:16,pointerEvents:"none"},i),className:c,onMouseEnter:d.startPause,onMouseLeave:d.endPause},l.map(e=>{let a=e.position||r,o=((e,t)=>{let r=e.includes("top"),a=r?{top:0}:{bottom:0},s=e.includes("center")?{justifyContent:"center"}:e.includes("right")?{justifyContent:"flex-end"}:{};return v(v({left:0,right:0,display:"flex",position:"absolute",transition:q()?void 0:"all 230ms cubic-bezier(.21,1.02,.73,1)",transform:"translateY(".concat(t*(r?1:-1),"px)")},a),s)})(a,d.calculateOffset(e,{reverseOrder:t,gutter:s,defaultPosition:r}));return Oe.createElement(ke,{id:e.id,key:e.id,onHeightUpdate:d.updateHeight,className:e.visible?Ne:"",style:o},"custom"===e.type?S(e.message,e):n?n(e):Oe.createElement(ge,{toast:e,position:a}))}))},Ce=G},193:function(e,t){e.exports=function(e,t){return t||(t=e.slice(0)),Object.freeze(Object.defineProperties(e,{raw:{value:Object.freeze(t)}}))},e.exports.__esModule=!0,e.exports.default=e.exports},194:function(e,t,r){var a=r(195);function s(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,a)}return r}e.exports=function(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?s(Object(r),!0).forEach(function(t){a(e,t,r[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):s(Object(r)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e},e.exports.__esModule=!0,e.exports.default=e.exports},195:function(e,t,r){var a=r(196);e.exports=function(e,t,r){return(t=a(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e},e.exports.__esModule=!0,e.exports.default=e.exports},196:function(e,t,r){var a=r(96).default,s=r(197);e.exports=function(e){var t=s(e,"string");return"symbol"==a(t)?t:t+""},e.exports.__esModule=!0,e.exports.default=e.exports},197:function(e,t,r){var a=r(96).default;e.exports=function(e,t){if("object"!=a(e)||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var s=r.call(e,t||"default");if("object"!=a(s))return s;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)},e.exports.__esModule=!0,e.exports.default=e.exports},216:function(e,t,r){"use strict";r.r(t);var a=r(1),s=r(4),n=r(13),o=r(24),i=r(52),c=r(58),l=r(192),d=r.n(l),u=r(25),m=r(3);t.default=function(){var e,t,r,l;const p=Object(s.g)(),{id:x}=Object(s.i)(),{currency:b,formatCurrency:y,getCurrencySymbol:f}=Object(u.b)(),[j,h]=Object(a.useState)(null),[g,v]=Object(a.useState)(!0),[O,k]=Object(a.useState)(""),[N,w]=Object(a.useState)(!1),C=async()=>{try{v(!0),k("");const e=await Object(n.b)("/quotations/".concat(x));e.success?h(e.data.quotation):k("Failed to fetch quotation")}catch(O){k("Failed to fetch quotation"),console.error("Error fetching quotation:",O)}finally{v(!1)}},E=e=>e?new Date(e).toLocaleDateString("en-US",{year:"numeric",month:"long",day:"numeric"}):"N/A",P=()=>{var e;return(null===(e=j.items)||void 0===e?void 0:e.reduce((e,t)=>e+(t.totalPrice||0),0))||0},A=()=>{const e=P();return"percentage"===j.discountType?e*j.discountValue/100:j.discountValue||0},D=()=>(P()-A())*j.taxRate/100||0;return Object(a.useEffect)(()=>{x&&C()},[x]),g?Object(m.jsx)("div",{className:"flex items-center justify-center min-h-screen",children:Object(m.jsxs)("div",{className:"text-center",children:[Object(m.jsx)("div",{className:"animate-spin rounded-full h-32 w-32 border-b-2 border-purple-600"}),Object(m.jsx)("p",{className:"mt-4 text-gray-600",children:"Loading quotation..."})]})}):O?Object(m.jsx)("div",{className:"flex items-center justify-center min-h-screen",children:Object(m.jsxs)("div",{className:"text-center",children:[Object(m.jsx)("div",{className:"text-red-500 text-xl mb-4",children:O}),Object(m.jsxs)("div",{className:"space-x-4",children:[Object(m.jsx)(o.Button,{onClick:C,style:{backgroundColor:"#AA1A21"},className:"text-white",children:"Retry"}),Object(m.jsx)(o.Button,{layout:"outline",onClick:()=>p.push("/app/quotations"),children:"Back to Quotations"})]})]})}):j?Object(m.jsxs)(m.Fragment,{children:[Object(m.jsx)("div",{className:"flex justify-between items-center mb-6"}),Object(m.jsxs)("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-6 mb-5",children:[Object(m.jsxs)("div",{className:"lg:col-span-2 space-y-6 mb-5",children:[Object(m.jsx)(o.Card,{children:Object(m.jsxs)(o.CardBody,{children:[Object(m.jsxs)("div",{className:"flex justify-between items-start mb-6",children:[Object(m.jsxs)("div",{children:[Object(m.jsx)("h2",{className:"text-2xl font-bold text-gray-800 dark:text-gray-200 mb-2",children:j.title}),Object(m.jsxs)("p",{className:"text-lg font-semibold text-gray-600 dark:text-gray-400",children:["Quotation #",j.quotationNo]})]}),Object(m.jsxs)("div",{children:[Object(m.jsxs)("div",{children:[Object(m.jsx)("h4",{className:"text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"Date"}),Object(m.jsx)("p",{className:"text-gray-800 dark:text-gray-200 font-medium",children:E(j.date)})]}),j.validUntil&&Object(m.jsxs)("div",{className:"mt-4",children:[Object(m.jsx)("h4",{className:"text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"Valid Until"}),Object(m.jsx)("p",{className:"text-gray-800 dark:text-gray-200 font-medium",children:E(j.validUntil)})]})]}),Object(m.jsxs)("div",{className:"flex items-center gap-2",children:[Object(m.jsx)(o.Badge,{type:(S=j.status,"invoice"===S?"success":"primary"),className:"text-sm px-3 py-1",children:j.status.charAt(0).toUpperCase()+j.status.slice(1)}),Object(m.jsx)(o.Button,{layout:"link",size:"icon","aria-label":"Edit",onClick:()=>p.push("/app/quotations/edit/".concat(j._id)),children:Object(m.jsx)(c.p,{className:"w-5 h-5 text-gray-600 dark:text-gray-300"})})]})]}),j.description&&Object(m.jsxs)("div",{className:"mb-6",children:[Object(m.jsx)("h4",{className:"text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"Description"}),Object(m.jsx)("p",{className:"text-gray-600 dark:text-gray-400",children:j.description})]}),Object(m.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6 mb-6",children:[Object(m.jsxs)("div",{children:[Object(m.jsx)("h4",{className:"text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"Client"}),Object(m.jsxs)("div",{className:"bg-gray-50 dark:bg-gray-700 p-4 rounded-lg",children:[Object(m.jsx)("p",{className:"font-semibold text-gray-800 dark:text-gray-200",children:(null===(e=j.client)||void 0===e?void 0:e.name)||"N/A"}),Object(m.jsx)("p",{className:"text-gray-600 dark:text-gray-400",children:(null===(t=j.client)||void 0===t?void 0:t.businessName)||"N/A"}),(null===(r=j.client)||void 0===r?void 0:r.email)&&Object(m.jsx)("p",{className:"text-gray-600 dark:text-gray-400",children:j.client.email})]})]}),Object(m.jsxs)("div",{children:[Object(m.jsx)("h4",{className:"text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"Currency"}),Object(m.jsx)("div",{className:"bg-gray-50 dark:bg-gray-700 p-4 rounded-lg",children:Object(m.jsx)("p",{className:"font-semibold text-gray-800 dark:text-gray-200",children:j.currency||"USD"})})]})]})]})}),Object(m.jsx)(o.Card,{children:Object(m.jsxs)(o.CardBody,{children:[Object(m.jsx)(i.a,{children:"Quotation Items"}),Object(m.jsx)("div",{className:"overflow-x-auto mb-5",children:Object(m.jsxs)("table",{className:"w-full text-sm",children:[Object(m.jsx)("thead",{children:Object(m.jsxs)("tr",{className:"border-b border-gray-200 dark:border-gray-700",children:[Object(m.jsx)("th",{className:"text-left py-3 px-2 font-medium text-gray-700 dark:text-gray-300",children:"Product"}),Object(m.jsx)("th",{className:"text-left py-3 px-2 font-medium text-gray-700 dark:text-gray-300",children:"Description"}),Object(m.jsx)("th",{className:"text-center py-3 px-2 font-medium text-gray-700 dark:text-gray-300",children:"Quantity"}),Object(m.jsx)("th",{className:"text-right py-3 px-2 font-medium text-gray-700 dark:text-gray-300",children:"Unit Price"}),Object(m.jsx)("th",{className:"text-right py-3 px-2 font-medium text-gray-700 dark:text-gray-300",children:"Total"})]})}),Object(m.jsx)("tbody",{children:null===(l=j.items)||void 0===l?void 0:l.map((e,t)=>{var r;return Object(m.jsxs)("tr",{className:"border-b border-gray-100 dark:border-gray-600",children:[Object(m.jsx)("td",{className:"py-4 px-2 text-gray-800 dark:text-gray-200",children:(null===(r=e.product)||void 0===r?void 0:r.name)||"N/A"}),Object(m.jsx)("td",{className:"py-4 px-2 text-gray-600 dark:text-gray-400",children:e.description||"N/A"}),Object(m.jsx)("td",{className:"py-4 px-2 text-center text-gray-800 dark:text-gray-200",children:e.quantity||1}),Object(m.jsxs)("td",{className:"py-4 px-2 text-right font-medium text-gray-800 dark:text-gray-200",children:[y(e.unitPrice||0),"                                                "]}),Object(m.jsxs)("td",{className:"py-4 px-2 text-right font-medium text-gray-800 dark:text-gray-200",children:[y(e.totalPrice||0),"                                                "]})]},t)})})]})})]})}),(j.notes||j.terms)&&Object(m.jsx)(o.Card,{children:Object(m.jsxs)(o.CardBody,{children:[j.terms&&Object(m.jsxs)("div",{className:"mb-4",children:[Object(m.jsx)("h4",{className:"text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"Terms & Conditions"}),Object(m.jsx)("p",{className:"text-gray-600 dark:text-gray-400 whitespace-pre-wrap",children:j.terms})]}),j.notes&&Object(m.jsxs)("div",{children:[Object(m.jsx)("h4",{className:"text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"Notes"}),Object(m.jsx)("p",{className:"text-gray-600 dark:text-gray-400 whitespace-pre-wrap",children:j.notes})]})]})})]}),Object(m.jsxs)("div",{className:"space-y-6",children:[Object(m.jsx)(o.Card,{children:Object(m.jsxs)(o.CardBody,{children:[Object(m.jsx)("h3",{className:"text-lg font-semibold text-gray-800 dark:text-gray-200 mb-4",children:"Quotation Summary"}),Object(m.jsxs)("div",{className:"space-y-3 mb-4 pb-4 border-b border-gray-200 dark:border-gray-600 text-sm",children:[Object(m.jsxs)("div",{className:"flex justify-between",children:[Object(m.jsx)("span",{className:"text-gray-600 dark:text-gray-400",children:"Subtotal"}),Object(m.jsx)("span",{className:"text-gray-800 dark:text-gray-200 font-medium",children:y(P())})]}),j.discountValue>0&&Object(m.jsxs)("div",{className:"flex justify-between",children:[Object(m.jsxs)("span",{className:"text-gray-600 dark:text-gray-400",children:["Discount (","percentage"===j.discountType?"".concat(j.discountValue,"%"):"Fixed",")"]}),Object(m.jsxs)("span",{className:"text-gray-600 dark:text-gray-400 font-medium",children:[y(A()),"                                        "]})]}),j.taxRate>0&&Object(m.jsxs)("div",{className:"flex justify-between",children:[Object(m.jsxs)("span",{className:"text-gray-600 dark:text-gray-400",children:["Tax (",j.taxRate,"%)"]}),Object(m.jsxs)("span",{className:"text-gray-600 dark:text-gray-400 font-medium",children:[y(D()),"                                        "]})]}),Object(m.jsxs)("div",{className:"border-t border-dashed border-gray-300 dark:border-gray-600 pt-3 mt-3 flex justify-between items-center",children:[Object(m.jsx)("span",{className:"text-xl font-semibold text-gray-800 dark:text-gray-200",children:"Total Amount"}),Object(m.jsxs)("span",{className:"text-2xl font-bold",style:{color:"#AA1A21"},children:[y(P()-A()+D()),"                                    "]})]})]})]})}),Object(m.jsx)(o.Card,{children:Object(m.jsxs)(o.CardBody,{children:[Object(m.jsx)("h3",{className:"text-lg font-semibold text-gray-800 dark:text-gray-200 mb-2",children:"Actions"}),Object(m.jsxs)("div",{className:"space-y-4",children:[Object(m.jsxs)("div",{className:"bg-gray-50 dark:bg-gray-700 p-4 rounded-lg",children:[Object(m.jsx)("div",{className:"flex items-center justify-between mb-3",children:Object(m.jsxs)("div",{className:"flex flex-col",children:[Object(m.jsx)("span",{className:"text-sm font-medium text-gray-700 dark:text-gray-300",children:"Status                                            "}),Object(m.jsx)("span",{className:"text-xs text-gray-500 dark:text-gray-400",children:"quotation"===j.status?"Click to convert to Invoice":"Click to convert to Quotation"})]})}),Object(m.jsxs)("div",{style:{display:"flex",alignItems:"center",justifyContent:"space-between"},children:[Object(m.jsx)("span",{style:{fontSize:"14px",fontWeight:"500",color:"quotation"===j.status?"#3B82F6":"#9CA3AF"},children:"Quotation"}),Object(m.jsx)("button",{type:"button",onClick:async()=>{const e="quotation"===j.status?"invoice":"quotation";try{const t=await Object(n.d)("/quotations/".concat(x,"/status"),{status:e});t.success?(d.a.success("Converted to ".concat(e," successfully!")),C()):d.a.error(t.message||"Failed to update status")}catch(O){var t,r;console.error("Error updating status:",O),d.a.error((null===O||void 0===O||null===(t=O.response)||void 0===t||null===(r=t.data)||void 0===r?void 0:r.message)||"Failed to update status")}},style:{position:"relative",display:"inline-block",width:"44px",height:"24px",backgroundColor:"invoice"===j.status?"#3B82F6":"#E5E7EB",borderRadius:"12px",border:"none",cursor:"pointer",transition:"background-color 0.2s ease",outline:"none"},children:Object(m.jsx)("span",{style:{position:"absolute",top:"2px",left:"invoice"===j.status?"22px":"2px",width:"20px",height:"20px",backgroundColor:"white",borderRadius:"50%",transition:"left 0.2s ease",boxShadow:"0 2px 4px rgba(0,0,0,0.2)"}})}),Object(m.jsx)("span",{style:{fontSize:"14px",fontWeight:"500",color:"invoice"===j.status?"#3B82F6":"#9CA3AF"},children:"Invoice"})]}),Object(m.jsx)("div",{className:"mt-3 text-center",children:Object(m.jsxs)("span",{className:"text-sm font-semibold text-gray-800 dark:text-gray-200",children:["Currently: ",j.status.charAt(0).toUpperCase()+j.status.slice(1)]})})]}),Object(m.jsx)(o.Button,{block:!0,style:{backgroundColor:"#AA1A21"},className:"text-white",onClick:async()=>{try{w(!0);const e=await fetch("https://quotationmaker.onrender.com/api/quotations/".concat(x,"/pdf"),{method:"GET",headers:{Authorization:"Bearer ".concat(localStorage.getItem("token"))}});if(e.ok){const t=await e.blob(),r=window.URL.createObjectURL(t),a=document.createElement("a");a.href=r,a.download="".concat(j.status,"-").concat(j.quotationNo,".pdf"),document.body.appendChild(a),a.click(),window.URL.revokeObjectURL(r),document.body.removeChild(a),d.a.success("PDF downloaded successfully!")}else d.a.error("Failed to download PDF")}catch(O){console.error("Error downloading PDF:",O),d.a.error("Failed to download PDF")}finally{w(!1)}},disabled:N,children:N?Object(m.jsxs)(m.Fragment,{children:[Object(m.jsx)("div",{className:"animate-spin rounded-full h-4 w-4 border-b-2 border-white mr-2"}),"Generating PDF..."]}):Object(m.jsxs)(m.Fragment,{children:[Object(m.jsx)(c.u,{className:"w-4 h-4 mr-2"}),"Download PDF"]})}),Object(m.jsxs)(o.Button,{block:!0,layout:"outline",onClick:()=>p.push("/app/quotations"),children:[Object(m.jsx)(c.b,{className:"w-4 h-4 mr-2"}),"Back to All Quotations"]})]})]})})]})]})]}):Object(m.jsx)("div",{className:"flex items-center justify-center min-h-screen",children:Object(m.jsxs)("div",{className:"text-center",children:[Object(m.jsx)("div",{className:"text-gray-500 text-xl mb-4",children:"Quotation not found"}),Object(m.jsx)(o.Button,{layout:"outline",onClick:()=>p.push("/app/quotations"),children:"Back to Quotations"})]})});var S}},52:function(e,t,r){"use strict";r(1);var a=r(3);t.a=function(e){let{children:t}=e;return Object(a.jsx)("h2",{className:"mb-4 text-lg font-semibold text-gray-600 dark:text-gray-300",children:t})}},59:function(e,t,r){"use strict";r.r(t),r.d(t,"css",function(){return x}),r.d(t,"extractCss",function(){return n}),r.d(t,"glob",function(){return j}),r.d(t,"keyframes",function(){return h}),r.d(t,"setup",function(){return g}),r.d(t,"styled",function(){return v});let a={data:""},s=e=>"object"==typeof window?((e?e.querySelector("#_goober"):window._goober)||Object.assign((e||document.head).appendChild(document.createElement("style")),{innerHTML:" ",id:"_goober"})).firstChild:e||a,n=e=>{let t=s(e),r=t.data;return t.data="",r},o=/(?:([\u0080-\uFFFF\w-%@]+) *:? *([^{;]+?);|([^;}{]*?) *{)|(}\s*)/g,i=/\/\*[^]*?\*\/|  +/g,c=/\n+/g,l=(e,t)=>{let r="",a="",s="";for(let n in e){let o=e[n];"@"==n[0]?"i"==n[1]?r=n+" "+o+";":a+="f"==n[1]?l(o,n):n+"{"+l(o,"k"==n[1]?"":t)+"}":"object"==typeof o?a+=l(o,t?t.replace(/([^,])+/g,e=>n.replace(/([^,]*:\S+\([^)]*\))|([^,])+/g,t=>/&/.test(t)?t.replace(/&/g,e):e?e+" "+t:t)):n):null!=o&&(n=/^--/.test(n)?n:n.replace(/[A-Z]/g,"-$&").toLowerCase(),s+=l.p?l.p(n,o):n+":"+o+";")}return r+(t&&s?t+"{"+s+"}":s)+a},d={},u=e=>{if("object"==typeof e){let t="";for(let r in e)t+=r+u(e[r]);return t}return e},m=(e,t,r,a,s)=>{let n=u(e),m=d[n]||(d[n]=(e=>{let t=0,r=11;for(;t<e.length;)r=101*r+e.charCodeAt(t++)>>>0;return"go"+r})(n));if(!d[m]){let t=n!==e?e:(e=>{let t,r,a=[{}];for(;t=o.exec(e.replace(i,""));)t[4]?a.shift():t[3]?(r=t[3].replace(c," ").trim(),a.unshift(a[0][r]=a[0][r]||{})):a[0][t[1]]=t[2].replace(c," ").trim();return a[0]})(e);d[m]=l(s?{["@keyframes "+m]:t}:t,r?"":"."+m)}let p=r&&d.g?d.g:null;return r&&(d.g=d[m]),((e,t,r,a)=>{a?t.data=t.data.replace(a,e):-1===t.data.indexOf(e)&&(t.data=r?e+t.data:t.data+e)})(d[m],t,a,p),m},p=(e,t,r)=>e.reduce((e,a,s)=>{let n=t[s];if(n&&n.call){let e=n(r),t=e&&e.props&&e.props.className||/^go/.test(e)&&e;n=t?"."+t:e&&"object"==typeof e?e.props?"":l(e,""):!1===e?"":e}return e+a+(null==n?"":n)},"");function x(e){let t=this||{},r=e.call?e(t.p):e;return m(r.unshift?r.raw?p(r,[].slice.call(arguments,1),t.p):r.reduce((e,r)=>Object.assign(e,r&&r.call?r(t.p):r),{}):r,s(t.target),t.g,t.o,t.k)}let b,y,f,j=x.bind({g:1}),h=x.bind({k:1});function g(e,t,r,a){l.p=t,b=e,y=r,f=a}function v(e,t){let r=this||{};return function(){let a=arguments;function s(n,o){let i=Object.assign({},n),c=i.className||s.className;r.p=Object.assign({theme:y&&y()},i),r.o=/ *go\d+/.test(c),i.className=x.apply(r,a)+(c?" "+c:""),t&&(i.ref=o);let l=e;return e[0]&&(l=i.as||e,delete i.as),f&&l[0]&&f(i),b(l,i)}return t?t(s):s}}},96:function(e,t){function r(t){return e.exports=r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},e.exports.__esModule=!0,e.exports.default=e.exports,r(t)}e.exports=r,e.exports.__esModule=!0,e.exports.default=e.exports}}]);
//# sourceMappingURL=8.ec232c7c.chunk.js.map