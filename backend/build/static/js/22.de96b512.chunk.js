(this["webpackJsonpquotation-maker"]=this["webpackJsonpquotation-maker"]||[]).push([[22],{209:function(e,n,s){"use strict";s.r(n);var i=s(5),a=s(1),t=s(4),l=s(13),o=s(24),c=s(51),u=s(3);n.default=function(){var e,n,s,r,d,b,j,m,x,v,h,O,g,p,f,N,k,y,q,C,I,w,L,T,P,H,S,B,A,E;const D=Object(t.g)(),[F,Q]=Object(a.useState)({bank:{name:"",accountName:"",accountNumber:"",routingNumber:""},business:{name:"",address:"",mobileNum:"",businessNum:"",email:"",web:"",logo:"",taxId:""},quotation:{validity:30,terms:"",notes:"",quotationPrefix:"QUO",invoicePrefix:"INV"}}),[R,J]=Object(a.useState)({}),[M,U]=Object(a.useState)(""),[V,W]=Object(a.useState)(!1),z=e=>{const{name:n,value:s}=e.target,[a,t]=n.split(".");Q(e=>Object(i.a)(Object(i.a)({},e),{},{[a]:Object(i.a)(Object(i.a)({},e[a]),{},{[t]:"validity"===t?Number(s):s})})),J(e=>Object(i.a)(Object(i.a)({},e),{},{[a]:Object(i.a)(Object(i.a)({},e[a]),{},{[t]:""})}))};return Object(u.jsxs)(u.Fragment,{children:[Object(u.jsx)(c.a,{children:"Create Configuration"}),M&&Object(u.jsx)("div",{className:"mb-4 p-3 bg-red-100 border border-red-400 text-red-700 rounded",children:M}),Object(u.jsx)("div",{className:"bg-white dark:bg-gray-800 p-6 rounded-lg shadow-lg",children:Object(u.jsxs)("form",{onSubmit:async e=>{if(e.preventDefault(),(()=>{const e={};requiredFields={quotation:["validity","quotationPrefix","invoicePrefix"]},Object.entries(requiredFields).forEach(n=>{let[s,i]=n;e[s]={},i.forEach(n=>{String(F[s][n]||"").toString().trim()||(e[s][n]="Required")})}),(F.quotation.validity<1||F.quotation.validity>365)&&(e.quotation||(e.quotation={}),e.quotation.validity="Must be between 1 and 365 days");const n=Object.values(e).some(e=>Object.values(e).some(e=>!!e));return J(e),!n})()){W(!0),U("");try{const e=await Object(l.c)("/configuration",F);e.success?(alert("Configuration created successfully!"),D.push("/app/configuration")):U(e.message||"Failed to create configuration")}catch(i){var n,s;U((null===(n=i.response)||void 0===n||null===(s=n.data)||void 0===s?void 0:s.message)||i.message||"Server error")}finally{W(!1)}}},children:[Object(u.jsx)("h3",{className:"text-xl font-semibold mb-4 text-gray-800 dark:text-gray-200",children:"Bank Information"}),Object(u.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4 mb-6",children:[Object(u.jsxs)(o.Label,{children:[Object(u.jsx)("span",{children:"Bank Name"}),Object(u.jsx)(o.Input,{name:"bank.name",value:F.bank.name,onChange:z,valid:!(null!==(e=R.bank)&&void 0!==e&&e.name)}),(null===(n=R.bank)||void 0===n?void 0:n.name)&&Object(u.jsx)(o.HelperText,{valid:!1,children:R.bank.name})]}),Object(u.jsxs)(o.Label,{children:[Object(u.jsx)("span",{children:"Account Name"}),Object(u.jsx)(o.Input,{name:"bank.accountName",value:F.bank.accountName,onChange:z,valid:!(null!==(s=R.bank)&&void 0!==s&&s.accountName)}),(null===(r=R.bank)||void 0===r?void 0:r.accountName)&&Object(u.jsx)(o.HelperText,{valid:!1,children:R.bank.accountName})]}),Object(u.jsxs)(o.Label,{children:[Object(u.jsx)("span",{children:"Account Number"}),Object(u.jsx)(o.Input,{name:"bank.accountNumber",value:F.bank.accountNumber,onChange:z,valid:!(null!==(d=R.bank)&&void 0!==d&&d.accountNumber)}),(null===(b=R.bank)||void 0===b?void 0:b.accountNumber)&&Object(u.jsx)(o.HelperText,{valid:!1,children:R.bank.accountNumber})]}),Object(u.jsxs)(o.Label,{children:[Object(u.jsx)("span",{children:"Routing Number"}),Object(u.jsx)(o.Input,{name:"bank.routingNumber",value:F.bank.routingNumber,onChange:z,valid:!(null!==(j=R.bank)&&void 0!==j&&j.routingNumber)}),(null===(m=R.bank)||void 0===m?void 0:m.routingNumber)&&Object(u.jsx)(o.HelperText,{valid:!1,children:R.bank.routingNumber})]})]}),Object(u.jsx)("h3",{className:"text-xl font-semibold mb-4 text-gray-800 dark:text-gray-200",children:"Business Information"}),Object(u.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4 mb-6",children:[Object(u.jsxs)(o.Label,{children:[Object(u.jsx)("span",{children:"Business Name"}),Object(u.jsx)(o.Input,{name:"business.name",value:F.business.name,onChange:z,valid:!(null!==(x=R.business)&&void 0!==x&&x.name)}),(null===(v=R.business)||void 0===v?void 0:v.name)&&Object(u.jsx)(o.HelperText,{valid:!1,children:R.business.name})]}),Object(u.jsxs)(o.Label,{children:[Object(u.jsx)("span",{children:"Address"}),Object(u.jsx)(o.Input,{name:"business.address",value:F.business.address,onChange:z,valid:!(null!==(h=R.business)&&void 0!==h&&h.address)}),(null===(O=R.business)||void 0===O?void 0:O.address)&&Object(u.jsx)(o.HelperText,{valid:!1,children:R.business.address})]}),Object(u.jsxs)(o.Label,{children:[Object(u.jsx)("span",{children:"Mobile Number"}),Object(u.jsx)(o.Input,{name:"business.mobileNum",value:F.business.mobileNum,onChange:z,valid:!(null!==(g=R.business)&&void 0!==g&&g.mobileNum)}),(null===(p=R.business)||void 0===p?void 0:p.mobileNum)&&Object(u.jsx)(o.HelperText,{valid:!1,children:R.business.mobileNum})]}),Object(u.jsxs)(o.Label,{children:[Object(u.jsx)("span",{children:"Business Number"}),Object(u.jsx)(o.Input,{name:"business.businessNum",value:F.business.businessNum,onChange:z,valid:!(null!==(f=R.business)&&void 0!==f&&f.businessNum)}),(null===(N=R.business)||void 0===N?void 0:N.businessNum)&&Object(u.jsx)(o.HelperText,{valid:!1,children:R.business.businessNum})]}),Object(u.jsxs)(o.Label,{children:[Object(u.jsx)("span",{children:"Email"}),Object(u.jsx)(o.Input,{name:"business.email",value:F.business.email,onChange:z,valid:!(null!==(k=R.business)&&void 0!==k&&k.email),type:"email"}),(null===(y=R.business)||void 0===y?void 0:y.email)&&Object(u.jsx)(o.HelperText,{valid:!1,children:R.business.email})]}),Object(u.jsxs)(o.Label,{children:[Object(u.jsx)("span",{children:"Website"}),Object(u.jsx)(o.Input,{name:"business.web",value:F.business.web,onChange:z,valid:!(null!==(q=R.business)&&void 0!==q&&q.web)}),(null===(C=R.business)||void 0===C?void 0:C.web)&&Object(u.jsx)(o.HelperText,{valid:!1,children:R.business.web})]}),Object(u.jsxs)(o.Label,{children:[Object(u.jsx)("span",{children:"Logo URL"}),Object(u.jsx)(o.Input,{name:"business.logo",value:F.business.logo,onChange:z,valid:!(null!==(I=R.business)&&void 0!==I&&I.logo)}),(null===(w=R.business)||void 0===w?void 0:w.logo)&&Object(u.jsx)(o.HelperText,{valid:!1,children:R.business.logo})]}),Object(u.jsxs)(o.Label,{children:[Object(u.jsx)("span",{children:"Tax ID"}),Object(u.jsx)(o.Input,{name:"business.taxId",value:F.business.taxId,onChange:z,valid:!(null!==(L=R.business)&&void 0!==L&&L.taxId)}),(null===(T=R.business)||void 0===T?void 0:T.taxId)&&Object(u.jsx)(o.HelperText,{valid:!1,children:R.business.taxId})]})]}),Object(u.jsx)("h3",{className:"text-xl font-semibold mb-4 text-gray-800 dark:text-gray-200",children:"Quotation Settings"}),Object(u.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4 mb-6",children:[Object(u.jsxs)(o.Label,{children:[Object(u.jsx)("span",{children:"Quotation Validity (Days) *"}),Object(u.jsx)(o.Input,{name:"quotation.validity",value:F.quotation.validity,onChange:z,valid:!(null!==(P=R.quotation)&&void 0!==P&&P.validity),type:"number",min:"1",max:"365"}),(null===(H=R.quotation)||void 0===H?void 0:H.validity)&&Object(u.jsx)(o.HelperText,{valid:!1,children:R.quotation.validity})]}),Object(u.jsxs)(o.Label,{children:[Object(u.jsx)("span",{children:"Quotation Prefix *"}),Object(u.jsx)(o.Input,{name:"quotation.quotationPrefix",value:F.quotation.quotationPrefix,onChange:z,valid:!(null!==(S=R.quotation)&&void 0!==S&&S.quotationPrefix)}),(null===(B=R.quotation)||void 0===B?void 0:B.quotationPrefix)&&Object(u.jsx)(o.HelperText,{valid:!1,children:R.quotation.quotationPrefix})]}),Object(u.jsxs)(o.Label,{children:[Object(u.jsx)("span",{children:"Invoice Prefix *"}),Object(u.jsx)(o.Input,{name:"quotation.invoicePrefix",value:F.quotation.invoicePrefix,onChange:z,valid:!(null!==(A=R.quotation)&&void 0!==A&&A.invoicePrefix)}),(null===(E=R.quotation)||void 0===E?void 0:E.invoicePrefix)&&Object(u.jsx)(o.HelperText,{valid:!1,children:R.quotation.invoicePrefix})]}),Object(u.jsxs)(o.Label,{className:"md:col-span-2",children:[Object(u.jsx)("span",{children:"Terms & Conditions"}),Object(u.jsx)("textarea",{name:"quotation.terms",value:F.quotation.terms,onChange:z,className:"mt-1 block w-full border-gray-300 rounded-md shadow-sm focus:border-purple-300 focus:ring focus:ring-purple-200 focus:ring-opacity-50 dark:border-gray-600 dark:bg-gray-700 dark:text-white",rows:"4",placeholder:"Enter default terms and conditions..."})]}),Object(u.jsxs)(o.Label,{className:"md:col-span-2",children:[Object(u.jsx)("span",{children:"Default Notes"}),Object(u.jsx)("textarea",{name:"quotation.notes",value:F.quotation.notes,onChange:z,className:"mt-1 block w-full border-gray-300 rounded-md shadow-sm focus:border-purple-300 focus:ring focus:ring-purple-200 focus:ring-opacity-50 dark:border-gray-600 dark:bg-gray-700 dark:text-white",rows:"3",placeholder:"Enter default notes..."})]})]}),Object(u.jsxs)("div",{className:"flex justify-end gap-4 mt-6",children:[Object(u.jsx)(o.Button,{layout:"outline",onClick:()=>D.push("/app/configuration"),children:"Cancel"}),Object(u.jsx)(o.Button,{type:"submit",style:{backgroundColor:"#AA1A21"},className:"text-white",disabled:V,children:V?"Creating...":"Create Configuration"})]})]})})]})}},51:function(e,n,s){"use strict";s(1);var i=s(3);n.a=function(e){let{children:n}=e;return Object(i.jsx)("h1",{className:"my-6 text-2xl font-semibold text-gray-700 dark:text-gray-200",children:n})}}}]);
//# sourceMappingURL=22.de96b512.chunk.js.map