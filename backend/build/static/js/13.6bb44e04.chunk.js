(this["webpackJsonpquotation-maker"]=this["webpackJsonpquotation-maker"]||[]).push([[13],{206:function(e,s,t){"use strict";t.r(s);var a=t(5),n=t(1),r=t(4),i=t(13),c=t(51),l=t(52),d=t(24),o=t(3);s.default=function(){const e=Object(r.g)(),[s,t]=Object(n.useState)({name:"",businessName:"",email:"",address:"",mobileNo:"",businessNo:"",city:"",country:""}),[m,b]=Object(n.useState)(!1),[u,j]=Object(n.useState)({}),[h,x]=Object(n.useState)(""),p=e=>{const{name:s,value:n}=e.target;t(e=>Object(a.a)(Object(a.a)({},e),{},{[s]:n})),u[s]&&j(e=>Object(a.a)(Object(a.a)({},e),{},{[s]:""})),h&&x("")},O=()=>{e.push("/app/clients")};return Object(o.jsxs)(o.Fragment,{children:[Object(o.jsxs)("div",{className:"flex justify-between items-center mb-6",children:[Object(o.jsx)(c.a,{children:"Add New Client"}),Object(o.jsx)(d.Button,{type:"button",layout:"outline",onClick:O,disabled:m,children:"Back to Clients"})]}),Object(o.jsxs)("div",{className:"px-4 py-3 mb-8 bg-white rounded-lg shadow-md dark:bg-gray-800",children:[Object(o.jsx)(l.a,{children:"Client Information"}),Object(o.jsxs)("form",{onSubmit:async n=>{if(n.preventDefault(),(()=>{const e={};return s.name.trim()?s.name.length>100&&(e.name="Name cannot exceed 100 characters"):e.name="Client name is required",s.businessName.trim()?s.businessName.length>150&&(e.businessName="Business name cannot exceed 150 characters"):e.businessName="Business name is required",s.email.trim()?/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(s.email)||(e.email="Please enter a valid email address"):e.email="Email address is required",s.address.trim()||(e.address="Address is required"),s.mobileNo.trim()||(e.mobileNo="Mobile number is required"),s.businessNo&&""===s.businessNo.trim()&&t(e=>Object(a.a)(Object(a.a)({},e),{},{businessNo:""})),s.city.trim()||(e.city="City is required"),s.country.trim()||(e.country="Country is required"),j(e),0===Object.keys(e).length})()){b(!0),x("");try{const t=Object(a.a)(Object(a.a)({},s),{},{name:s.name.trim(),businessName:s.businessName.trim(),email:s.email.trim().toLowerCase(),address:s.address.trim(),mobileNo:s.mobileNo.trim(),businessNo:s.businessNo.trim()||void 0,city:s.city.trim(),country:s.country.trim()}),n=await Object(i.c)("/clients",t);n.success?(alert("Client created successfully!"),e.push("/app/clients")):x(n.message||"Failed to create client. Please try again.")}catch(o){var r,c,l,d;if(console.error("Error creating client:",o),null!==(r=o.response)&&void 0!==r&&null!==(c=r.data)&&void 0!==c&&c.message)x(o.response.data.message);else if(null!==(l=o.response)&&void 0!==l&&null!==(d=l.data)&&void 0!==d&&d.error){if("string"===typeof o.response.data.error)x(o.response.data.error);else if(o.response.data.error.errors){const e={};Object.keys(o.response.data.error.errors).forEach(s=>{e[s]=o.response.data.error.errors[s].message}),j(e)}}else o.message?x(o.message):x("Failed to create client. Please check your connection and try again.")}finally{b(!1)}}},children:[h&&Object(o.jsx)("div",{className:"mb-4 p-3 bg-red-100 border border-red-400 text-red-700 rounded",children:h}),Object(o.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[Object(o.jsxs)(d.Label,{children:[Object(o.jsx)("span",{children:"Client Name *"}),Object(o.jsx)(d.Input,{className:"mt-1",name:"name",value:s.name,onChange:p,placeholder:"Enter client's full name",required:!0,valid:!u.name,maxLength:100}),u.name&&Object(o.jsx)(d.HelperText,{valid:!1,children:u.name})]}),Object(o.jsxs)(d.Label,{children:[Object(o.jsx)("span",{children:"Business Name *"}),Object(o.jsx)(d.Input,{className:"mt-1",name:"businessName",value:s.businessName,onChange:p,placeholder:"Enter business/company name",required:!0,valid:!u.businessName,maxLength:150}),u.businessName&&Object(o.jsx)(d.HelperText,{valid:!1,children:u.businessName})]}),Object(o.jsxs)(d.Label,{className:"md:col-span-2",children:[Object(o.jsx)("span",{children:"Email Address *"}),Object(o.jsx)(d.Input,{className:"mt-1",name:"email",type:"email",value:s.email,onChange:p,placeholder:"client@business.com",required:!0,valid:!u.email}),u.email&&Object(o.jsx)(d.HelperText,{valid:!1,children:u.email})]}),Object(o.jsxs)(d.Label,{className:"md:col-span-2",children:[Object(o.jsx)("span",{children:"Address *"}),Object(o.jsx)(d.Input,{className:"mt-1",name:"address",value:s.address,onChange:p,placeholder:"Enter complete business address",required:!0,valid:!u.address}),u.address&&Object(o.jsx)(d.HelperText,{valid:!1,children:u.address})]}),Object(o.jsxs)(d.Label,{children:[Object(o.jsx)("span",{children:"Mobile Number *"}),Object(o.jsx)(d.Input,{className:"mt-1",name:"mobileNo",value:s.mobileNo,onChange:p,placeholder:"+1-555-123-4567",required:!0,valid:!u.mobileNo}),u.mobileNo&&Object(o.jsx)(d.HelperText,{valid:!1,children:u.mobileNo})]}),Object(o.jsxs)(d.Label,{children:[Object(o.jsx)("span",{children:"Business Number"}),Object(o.jsx)(d.Input,{className:"mt-1",name:"businessNo",value:s.businessNo,onChange:p,placeholder:"+1-555-123-4568 (Optional)",valid:!u.businessNo}),u.businessNo&&Object(o.jsx)(d.HelperText,{valid:!1,children:u.businessNo}),Object(o.jsx)(d.HelperText,{children:"Optional: Separate business phone number"})]}),Object(o.jsxs)(d.Label,{children:[Object(o.jsx)("span",{children:"City *"}),Object(o.jsx)(d.Input,{className:"mt-1",name:"city",value:s.city,onChange:p,placeholder:"Enter city",required:!0,valid:!u.city}),u.city&&Object(o.jsx)(d.HelperText,{valid:!1,children:u.city})]}),Object(o.jsxs)(d.Label,{children:[Object(o.jsx)("span",{children:"Country *"}),Object(o.jsxs)(d.Select,{className:"mt-1",name:"country",value:s.country,onChange:p,required:!0,valid:!u.country,children:[Object(o.jsx)("option",{value:"",children:"Select a country"}),["United States","Canada","United Kingdom","Australia","Germany","France","India","Pakistan","Bangladesh","Other"].map(e=>Object(o.jsx)("option",{value:e,children:e},e))]}),"Other"===s.country&&Object(o.jsx)(d.Input,{className:"mt-2",placeholder:"Please specify country",onChange:e=>t(s=>Object(a.a)(Object(a.a)({},s),{},{country:e.target.value}))}),u.country&&Object(o.jsx)(d.HelperText,{valid:!1,children:u.country})]})]}),Object(o.jsxs)("div",{className:"flex justify-end space-x-4 mt-6",children:[Object(o.jsx)(d.Button,{type:"button",layout:"outline",onClick:O,disabled:m,children:"Cancel"}),Object(o.jsx)(d.Button,{type:"submit",style:{backgroundColor:"#AA1A21"},className:"text-white",disabled:m,children:m?"Creating...":"Create Client"})]})]})]})]})}},51:function(e,s,t){"use strict";t(1);var a=t(3);s.a=function(e){let{children:s}=e;return Object(a.jsx)("h1",{className:"my-6 text-2xl font-semibold text-gray-700 dark:text-gray-200",children:s})}},52:function(e,s,t){"use strict";t(1);var a=t(3);s.a=function(e){let{children:s}=e;return Object(a.jsx)("h2",{className:"mb-4 text-lg font-semibold text-gray-600 dark:text-gray-300",children:s})}}}]);
//# sourceMappingURL=13.6bb44e04.chunk.js.map