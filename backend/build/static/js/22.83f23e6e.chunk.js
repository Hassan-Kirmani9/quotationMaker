(this["webpackJsonpquotation-maker"]=this["webpackJsonpquotation-maker"]||[]).push([[22],{209:function(e,s,n){"use strict";n.r(s);var a=n(5),t=n(1),i=n(4),l=n(13),o=n(24),c=n(51),u=n(3);s.default=function(){var e,s,n,r,b,d,j,m,x,v,h,O,g,p,N,f,k,y,C,q,I,w,L,T,H,S,B,A;const E=Object(i.g)(),[D,Q]=Object(t.useState)({bank:{name:"",accountName:"",accountNumber:"",routingNumber:""},business:{name:"",address:"",mobileNum:"",businessNum:"",email:"",web:"",logo:"",taxId:""},quotation:{validity:30,terms:"",notes:"",prefix:"QUO"}}),[R,F]=Object(t.useState)({}),[J,M]=Object(t.useState)(""),[U,P]=Object(t.useState)(!1),V=e=>{const{name:s,value:n}=e.target,[t,i]=s.split(".");Q(e=>Object(a.a)(Object(a.a)({},e),{},{[t]:Object(a.a)(Object(a.a)({},e[t]),{},{[i]:"validity"===i?Number(n):n})})),F(e=>Object(a.a)(Object(a.a)({},e),{},{[t]:Object(a.a)(Object(a.a)({},e[t]),{},{[i]:""})}))};return Object(u.jsxs)(u.Fragment,{children:[Object(u.jsx)(c.a,{children:"Create Configuration"}),J&&Object(u.jsx)("div",{className:"mb-4 p-3 bg-red-100 border border-red-400 text-red-700 rounded",children:J}),Object(u.jsx)("div",{className:"bg-white dark:bg-gray-800 p-6 rounded-lg shadow-lg",children:Object(u.jsxs)("form",{onSubmit:async e=>{if(e.preventDefault(),(()=>{const e={};Object.entries({quotation:["validity","prefix"]}).forEach(s=>{let[n,a]=s;e[n]={},a.forEach(s=>{String(D[n][s]||"").toString().trim()||(e[n][s]="Required")})}),(D.quotation.validity<1||D.quotation.validity>365)&&(e.quotation||(e.quotation={}),e.quotation.validity="Must be between 1 and 365 days");const s=Object.values(e).some(e=>Object.values(e).some(e=>!!e));return F(e),!s})()){P(!0),M("");try{const e=await Object(l.c)("/configuration",D);e.success?(alert("Configuration created successfully!"),E.push("/app/configuration")):M(e.message||"Failed to create configuration")}catch(a){var s,n;M((null===(s=a.response)||void 0===s||null===(n=s.data)||void 0===n?void 0:n.message)||a.message||"Server error")}finally{P(!1)}}},children:[Object(u.jsx)("h3",{className:"text-xl font-semibold mb-4 text-gray-800 dark:text-gray-200",children:"Bank Information"}),Object(u.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4 mb-6",children:[Object(u.jsxs)(o.Label,{children:[Object(u.jsx)("span",{children:"Bank Name"}),Object(u.jsx)(o.Input,{name:"bank.name",value:D.bank.name,onChange:V,valid:!(null!==(e=R.bank)&&void 0!==e&&e.name)}),(null===(s=R.bank)||void 0===s?void 0:s.name)&&Object(u.jsx)(o.HelperText,{valid:!1,children:R.bank.name})]}),Object(u.jsxs)(o.Label,{children:[Object(u.jsx)("span",{children:"Account Name"}),Object(u.jsx)(o.Input,{name:"bank.accountName",value:D.bank.accountName,onChange:V,valid:!(null!==(n=R.bank)&&void 0!==n&&n.accountName)}),(null===(r=R.bank)||void 0===r?void 0:r.accountName)&&Object(u.jsx)(o.HelperText,{valid:!1,children:R.bank.accountName})]}),Object(u.jsxs)(o.Label,{children:[Object(u.jsx)("span",{children:"Account Number"}),Object(u.jsx)(o.Input,{name:"bank.accountNumber",value:D.bank.accountNumber,onChange:V,valid:!(null!==(b=R.bank)&&void 0!==b&&b.accountNumber)}),(null===(d=R.bank)||void 0===d?void 0:d.accountNumber)&&Object(u.jsx)(o.HelperText,{valid:!1,children:R.bank.accountNumber})]}),Object(u.jsxs)(o.Label,{children:[Object(u.jsx)("span",{children:"Routing Number"}),Object(u.jsx)(o.Input,{name:"bank.routingNumber",value:D.bank.routingNumber,onChange:V,valid:!(null!==(j=R.bank)&&void 0!==j&&j.routingNumber)}),(null===(m=R.bank)||void 0===m?void 0:m.routingNumber)&&Object(u.jsx)(o.HelperText,{valid:!1,children:R.bank.routingNumber})]})]}),Object(u.jsx)("h3",{className:"text-xl font-semibold mb-4 text-gray-800 dark:text-gray-200",children:"Business Information"}),Object(u.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4 mb-6",children:[Object(u.jsxs)(o.Label,{children:[Object(u.jsx)("span",{children:"Business Name"}),Object(u.jsx)(o.Input,{name:"business.name",value:D.business.name,onChange:V,valid:!(null!==(x=R.business)&&void 0!==x&&x.name)}),(null===(v=R.business)||void 0===v?void 0:v.name)&&Object(u.jsx)(o.HelperText,{valid:!1,children:R.business.name})]}),Object(u.jsxs)(o.Label,{children:[Object(u.jsx)("span",{children:"Address"}),Object(u.jsx)(o.Input,{name:"business.address",value:D.business.address,onChange:V,valid:!(null!==(h=R.business)&&void 0!==h&&h.address)}),(null===(O=R.business)||void 0===O?void 0:O.address)&&Object(u.jsx)(o.HelperText,{valid:!1,children:R.business.address})]}),Object(u.jsxs)(o.Label,{children:[Object(u.jsx)("span",{children:"Mobile Number"}),Object(u.jsx)(o.Input,{name:"business.mobileNum",value:D.business.mobileNum,onChange:V,valid:!(null!==(g=R.business)&&void 0!==g&&g.mobileNum)}),(null===(p=R.business)||void 0===p?void 0:p.mobileNum)&&Object(u.jsx)(o.HelperText,{valid:!1,children:R.business.mobileNum})]}),Object(u.jsxs)(o.Label,{children:[Object(u.jsx)("span",{children:"Business Number"}),Object(u.jsx)(o.Input,{name:"business.businessNum",value:D.business.businessNum,onChange:V,valid:!(null!==(N=R.business)&&void 0!==N&&N.businessNum)}),(null===(f=R.business)||void 0===f?void 0:f.businessNum)&&Object(u.jsx)(o.HelperText,{valid:!1,children:R.business.businessNum})]}),Object(u.jsxs)(o.Label,{children:[Object(u.jsx)("span",{children:"Email"}),Object(u.jsx)(o.Input,{name:"business.email",value:D.business.email,onChange:V,valid:!(null!==(k=R.business)&&void 0!==k&&k.email),type:"email"}),(null===(y=R.business)||void 0===y?void 0:y.email)&&Object(u.jsx)(o.HelperText,{valid:!1,children:R.business.email})]}),Object(u.jsxs)(o.Label,{children:[Object(u.jsx)("span",{children:"Website"}),Object(u.jsx)(o.Input,{name:"business.web",value:D.business.web,onChange:V,valid:!(null!==(C=R.business)&&void 0!==C&&C.web)}),(null===(q=R.business)||void 0===q?void 0:q.web)&&Object(u.jsx)(o.HelperText,{valid:!1,children:R.business.web})]}),Object(u.jsxs)(o.Label,{children:[Object(u.jsx)("span",{children:"Logo URL"}),Object(u.jsx)(o.Input,{name:"business.logo",value:D.business.logo,onChange:V,valid:!(null!==(I=R.business)&&void 0!==I&&I.logo)}),(null===(w=R.business)||void 0===w?void 0:w.logo)&&Object(u.jsx)(o.HelperText,{valid:!1,children:R.business.logo})]}),Object(u.jsxs)(o.Label,{children:[Object(u.jsx)("span",{children:"Tax ID"}),Object(u.jsx)(o.Input,{name:"business.taxId",value:D.business.taxId,onChange:V,valid:!(null!==(L=R.business)&&void 0!==L&&L.taxId)}),(null===(T=R.business)||void 0===T?void 0:T.taxId)&&Object(u.jsx)(o.HelperText,{valid:!1,children:R.business.taxId})]})]}),Object(u.jsx)("h3",{className:"text-xl font-semibold mb-4 text-gray-800 dark:text-gray-200",children:"Quotation Settings"}),Object(u.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4 mb-6",children:[Object(u.jsxs)(o.Label,{children:[Object(u.jsx)("span",{children:"Quotation Validity (Days) *"}),Object(u.jsx)(o.Input,{name:"quotation.validity",value:D.quotation.validity,onChange:V,valid:!(null!==(H=R.quotation)&&void 0!==H&&H.validity),type:"number",min:"1",max:"365"}),(null===(S=R.quotation)||void 0===S?void 0:S.validity)&&Object(u.jsx)(o.HelperText,{valid:!1,children:R.quotation.validity})]}),Object(u.jsxs)(o.Label,{children:[Object(u.jsx)("span",{children:"Quotation Prefix *"}),Object(u.jsx)(o.Input,{name:"quotation.prefix",value:D.quotation.prefix,onChange:V,valid:!(null!==(B=R.quotation)&&void 0!==B&&B.prefix)}),(null===(A=R.quotation)||void 0===A?void 0:A.prefix)&&Object(u.jsx)(o.HelperText,{valid:!1,children:R.quotation.prefix})]}),Object(u.jsxs)(o.Label,{className:"md:col-span-2",children:[Object(u.jsx)("span",{children:"Terms & Conditions"}),Object(u.jsx)("textarea",{name:"quotation.terms",value:D.quotation.terms,onChange:V,className:"mt-1 block w-full border-gray-300 rounded-md shadow-sm focus:border-purple-300 focus:ring focus:ring-purple-200 focus:ring-opacity-50 dark:border-gray-600 dark:bg-gray-700 dark:text-white",rows:"4",placeholder:"Enter default terms and conditions..."})]}),Object(u.jsxs)(o.Label,{className:"md:col-span-2",children:[Object(u.jsx)("span",{children:"Default Notes"}),Object(u.jsx)("textarea",{name:"quotation.notes",value:D.quotation.notes,onChange:V,className:"mt-1 block w-full border-gray-300 rounded-md shadow-sm focus:border-purple-300 focus:ring focus:ring-purple-200 focus:ring-opacity-50 dark:border-gray-600 dark:bg-gray-700 dark:text-white",rows:"3",placeholder:"Enter default notes..."})]})]}),Object(u.jsxs)("div",{className:"flex justify-end gap-4 mt-6",children:[Object(u.jsx)(o.Button,{layout:"outline",onClick:()=>E.push("/app/configuration"),children:"Cancel"}),Object(u.jsx)(o.Button,{type:"submit",style:{backgroundColor:"#AA1A21"},className:"text-white",disabled:U,children:U?"Creating...":"Create Configuration"})]})]})})]})}},51:function(e,s,n){"use strict";n(1);var a=n(3);s.a=function(e){let{children:s}=e;return Object(a.jsx)("h1",{className:"my-6 text-2xl font-semibold text-gray-700 dark:text-gray-200",children:s})}}}]);
//# sourceMappingURL=22.83f23e6e.chunk.js.map