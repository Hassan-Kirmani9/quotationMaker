(this["webpackJsonpquotation-maker"]=this["webpackJsonpquotation-maker"]||[]).push([[14],{212:function(e,r,t){"use strict";t.r(r);var c=t(5),s=t(1),a=t(4),n=t(13),i=t(51),l=t(52),d=t(24),o=t(3);r.default=function(){const e=Object(a.g)(),[r,t]=Object(s.useState)({name:"",description:"",sellingPrice:0,purchasePrice:0}),[u,p]=Object(s.useState)(!1),[b,j]=Object(s.useState)({}),[m,h]=Object(s.useState)(""),g=e=>{const{name:r,value:s}=e.target;t(e=>Object(c.a)(Object(c.a)({},e),{},{[r]:"sellingPrice"===r||"purchasePrice"===r?parseFloat(s)||0:s})),b[r]&&j(e=>Object(c.a)(Object(c.a)({},e),{},{[r]:""})),m&&h("")},x=()=>{e.push("/app/products")};return Object(o.jsxs)(o.Fragment,{children:[Object(o.jsxs)("div",{className:"flex justify-between items-center mb-6",children:[Object(o.jsx)(i.a,{children:"Add New Product"}),Object(o.jsx)(d.Button,{type:"button",layout:"outline",onClick:x,disabled:u,children:"Back to Products"})]}),Object(o.jsxs)("div",{className:"px-4 py-3 mb-8 bg-white rounded-lg shadow-md dark:bg-gray-800",children:[Object(o.jsx)(l.a,{children:"Product Information"}),Object(o.jsxs)("form",{onSubmit:async t=>{if(t.preventDefault(),(()=>{const e={};return r.name.trim()?r.name.length>200&&(e.name="Product name cannot exceed 200 characters"):e.name="Product name is required",r.description&&r.description.length>1e3&&(e.description="Description cannot exceed 1000 characters"),(!r.sellingPrice||r.sellingPrice<0)&&(e.sellingPrice="Selling price must be 0 or greater"),(!r.purchasePrice||r.purchasePrice<0)&&(e.purchasePrice="Purchase price must be 0 or greater"),j(e),0===Object.keys(e).length})()){p(!0),h("");try{const t={name:r.name.trim(),description:r.description.trim()||void 0,sellingPrice:parseFloat(r.sellingPrice),purchasePrice:parseFloat(r.purchasePrice)},c=await Object(n.c)("/products",t);c.success?(alert("Product created successfully!"),e.push("/app/products")):h(c.message||"Failed to create product. Please try again.")}catch(l){var c,s,a,i;if(console.error("Error creating product:",l),null!==(c=l.response)&&void 0!==c&&null!==(s=c.data)&&void 0!==s&&s.message)h(l.response.data.message);else if(null!==(a=l.response)&&void 0!==a&&null!==(i=a.data)&&void 0!==i&&i.error){if("string"===typeof l.response.data.error)h(l.response.data.error);else if(l.response.data.error.errors){const e={};Object.keys(l.response.data.error.errors).forEach(r=>{e[r]=l.response.data.error.errors[r].message}),j(e)}}else l.message?h(l.message):h("Failed to create product. Please check your connection and try again.")}finally{p(!1)}}},children:[m&&Object(o.jsx)("div",{className:"mb-4 p-3 bg-red-100 border border-red-400 text-red-700 rounded",children:m}),Object(o.jsxs)("div",{className:"grid grid-cols-1 gap-4",children:[Object(o.jsxs)(d.Label,{children:[Object(o.jsx)("span",{children:"Product Name *"}),Object(o.jsx)(d.Input,{className:"mt-1",name:"name",value:r.name,onChange:g,placeholder:"Enter product name",required:!0,valid:!b.name,maxLength:200}),b.name&&Object(o.jsx)(d.HelperText,{valid:!1,children:b.name})]}),Object(o.jsxs)(d.Label,{children:[Object(o.jsx)("span",{children:"Description"}),Object(o.jsx)("textarea",{className:"mt-1 block w-full pt-2 pl-2 border-2 border-gray-300 rounded-md shadow-sm focus:border-purple-300 focus:ring focus:ring-purple-200 focus:ring-opacity-50 dark:border-gray-600 dark:bg-gray-700 dark:text-white",name:"description",value:r.description,onChange:g,rows:"4",placeholder:"Enter product description (optional)",maxLength:1e3}),b.description&&Object(o.jsx)(d.HelperText,{valid:!1,children:b.description})]}),Object(o.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[Object(o.jsxs)(d.Label,{children:[Object(o.jsx)("span",{children:"Purchase Price *"}),Object(o.jsx)(d.Input,{className:"mt-1",name:"purchasePrice",type:"number",step:"0.01",min:"0",value:r.purchasePrice,onChange:g,placeholder:"0.00",required:!0,valid:!b.purchasePrice}),b.purchasePrice&&Object(o.jsx)(d.HelperText,{valid:!1,children:b.purchasePrice})]}),Object(o.jsxs)(d.Label,{children:[Object(o.jsx)("span",{children:"Selling Price *"}),Object(o.jsx)(d.Input,{className:"mt-1",name:"sellingPrice",type:"number",step:"0.01",min:"0",value:r.sellingPrice,onChange:g,placeholder:"0.00",required:!0,valid:!b.sellingPrice}),b.sellingPrice&&Object(o.jsx)(d.HelperText,{valid:!1,children:b.sellingPrice})]})]})]}),Object(o.jsxs)("div",{className:"flex justify-end space-x-4 mt-6",children:[Object(o.jsx)(d.Button,{type:"button",layout:"outline",onClick:x,disabled:u,children:"Cancel"}),Object(o.jsx)(d.Button,{type:"submit",style:{backgroundColor:"#AA1A21"},className:"text-white",disabled:u,children:u?"Creating...":"Create Product"})]})]})]})]})}},51:function(e,r,t){"use strict";t(1);var c=t(3);r.a=function(e){let{children:r}=e;return Object(c.jsx)("h1",{className:"my-6 text-2xl font-semibold text-gray-700 dark:text-gray-200",children:r})}},52:function(e,r,t){"use strict";t(1);var c=t(3);r.a=function(e){let{children:r}=e;return Object(c.jsx)("h2",{className:"mb-4 text-lg font-semibold text-gray-600 dark:text-gray-300",children:r})}}}]);
//# sourceMappingURL=14.b2a20438.chunk.js.map