(this["webpackJsonpquotation-maker"]=this["webpackJsonpquotation-maker"]||[]).push([[20],{207:function(e,s,t){"use strict";t.r(s);var i=t(5),a=t(1),n=t(4),c=t(13),r=t(24),o=t(51),l=t(3);s.default=function(){const e=Object(n.g)(),{id:s}=Object(n.i)(),[t,d]=Object(a.useState)({name:"",businessName:"",email:"",address:"",mobileNo:"",businessNo:"",city:"",country:""}),[u,m]=Object(a.useState)({}),[b,j]=Object(a.useState)(""),[N,y]=Object(a.useState)(!1),[O,h]=Object(a.useState)(!0);Object(a.useEffect)(()=>{(async()=>{try{const e=await Object(c.b)("/clients/".concat(s));if(e.success){const s=e.data;d({name:s.name||"",businessName:s.businessName||"",email:s.email||"",address:s.address||"",mobileNo:s.mobileNo||"",businessNo:s.businessNo||"",city:s.city||"",country:s.country||""})}else j("Client not found")}catch(e){console.error(e),j("Failed to fetch client")}finally{h(!1)}})()},[s]);const p=e=>{const{name:s,value:t}=e.target;d(e=>Object(i.a)(Object(i.a)({},e),{},{[s]:t})),u[s]&&m(e=>Object(i.a)(Object(i.a)({},e),{},{[s]:""})),b&&j("")};return O?Object(l.jsx)("div",{className:"text-center py-20",children:"Loading client data..."}):Object(l.jsxs)(l.Fragment,{children:[Object(l.jsx)(o.a,{children:"Edit Client"}),b&&Object(l.jsx)("div",{className:"text-red-500 mb-4",children:b}),Object(l.jsxs)("form",{onSubmit:async i=>{if(i.preventDefault(),(()=>{const e={};return t.name.trim()||(e.name="Name is required"),t.businessName.trim()||(e.businessName="Business Name is required"),t.email.trim()||(e.email="Email Address is required"),t.address.trim()||(e.address="Address is required"),t.mobileNo.trim()?/^[\+]?[0-9\-\s\(\)]{10,}$/.test(t.mobileNo)||(e.mobileNo="Invalid Mobile No"):e.mobileNo="Mobile No is required",t.businessNo&&!/^[\+]?[0-9\-\s\(\)]{10,}$/.test(t.businessNo)&&(e.businessNo="Invalid Business No"),t.city.trim()||(e.city="City is required"),t.country.trim()||(e.country="Country is required"),m(e),0===Object.keys(e).length})()){y(!0);try{(await Object(c.d)("/clients/".concat(s),t,{})).success?e.push("/app/clients"):j("Failed to update client")}catch(a){console.error(a),j(a.message||"Something went wrong")}finally{y(!1)}}},className:"grid gap-6 md:grid-cols-2",children:[[["name","Name *"],["businessName","Business Name *"],["email","Email Address *"],["address","Address *"],["mobileNo","Mobile No *"],["businessNo","Business No"],["city","City *"],["country","Country *"]].map(e=>{let[s,i]=e;return Object(l.jsxs)(r.Label,{children:[Object(l.jsx)("span",{children:i}),Object(l.jsx)(r.Input,{className:"mt-1",name:s,value:t[s],onChange:p,valid:!u[s]}),u[s]&&Object(l.jsx)(r.HelperText,{valid:!1,children:u[s]})]},s)}),Object(l.jsxs)("div",{className:"md:col-span-2 flex justify-end gap-4",children:[Object(l.jsx)(r.Button,{layout:"outline",onClick:()=>{e.push("/app/clients")},children:"Cancel"}),Object(l.jsx)(r.Button,{type:"submit",style:{backgroundColor:"#AA1A21"},className:"text-white",disabled:N,children:N?"Updating...":"Update Client"})]})]})]})}},51:function(e,s,t){"use strict";t(1);var i=t(3);s.a=function(e){let{children:s}=e;return Object(i.jsx)("h1",{className:"my-6 text-2xl font-semibold text-gray-700 dark:text-gray-200",children:s})}}}]);
//# sourceMappingURL=20.8d1814b2.chunk.js.map