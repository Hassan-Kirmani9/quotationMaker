(this["webpackJsonpquotation-maker"]=this["webpackJsonpquotation-maker"]||[]).push([[7],{192:function(e,t,r){"use strict";var a,s,n,i,o,c,l,d,u,m,p,x,b,y,f,j,h,g=r(193).default,O=r(194).default,v=Object.create,k=Object.defineProperty,N=Object.getOwnPropertyDescriptor,w=Object.getOwnPropertyNames,C=Object.getPrototypeOf,E=Object.prototype.hasOwnProperty,S=(e,t,r,a)=>{if(t&&"object"==typeof t||"function"==typeof t)for(let s of w(t))!E.call(e,s)&&s!==r&&k(e,s,{get:()=>t[s],enumerable:!(a=N(t,s))||a.enumerable});return e},A=(e,t,r)=>(r=null!=e?v(C(e)):{},S(!t&&e&&e.__esModule?r:k(r,"default",{value:e,enumerable:!0}),e)),P={};((e,t)=>{for(var r in t)k(e,r,{get:t[r],enumerable:!0})})(P,{CheckmarkIcon:()=>de,ErrorIcon:()=>ae,LoaderIcon:()=>ie,ToastBar:()=>ge,ToastIcon:()=>be,Toaster:()=>we,default:()=>Ce,resolveValue:()=>D,toast:()=>J,useToaster:()=>Z,useToasterStore:()=>H}),e.exports=(h=P,S(k({},"__esModule",{value:!0}),h));var D=(e,t)=>(e=>"function"==typeof e)(e)?e(t):e,q=(()=>{let e=0;return()=>(++e).toString()})(),_=(()=>{let e;return()=>{if(void 0===e&&typeof window<"u"){let t=matchMedia("(prefers-reduced-motion: reduce)");e=!t||t.matches}return e}})(),B=r(1),M="default",T=(e,t)=>{let{toastLimit:r}=e.settings;switch(t.type){case 0:return O(O({},e),{},{toasts:[t.toast,...e.toasts].slice(0,r)});case 1:return O(O({},e),{},{toasts:e.toasts.map(e=>e.id===t.toast.id?O(O({},e),t.toast):e)});case 2:let{toast:a}=t;return T(e,{type:e.toasts.find(e=>e.id===a.id)?1:0,toast:a});case 3:let{toastId:s}=t;return O(O({},e),{},{toasts:e.toasts.map(e=>e.id===s||void 0===s?O(O({},e),{},{dismissed:!0,visible:!1}):e)});case 4:return void 0===t.toastId?O(O({},e),{},{toasts:[]}):O(O({},e),{},{toasts:e.toasts.filter(e=>e.id!==t.toastId)});case 5:return O(O({},e),{},{pausedAt:t.time});case 6:let n=t.time-(e.pausedAt||0);return O(O({},e),{},{pausedAt:void 0,toasts:e.toasts.map(e=>O(O({},e),{},{pauseDuration:e.pauseDuration+n}))})}},I=[],F={toasts:[],pausedAt:void 0,settings:{toastLimit:20}},z={},U=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:M;z[t]=T(z[t]||F,e),I.forEach(e=>{let[r,a]=e;r===t&&a(z[t])})},Q=e=>Object.keys(z).forEach(t=>U(e,t)),L=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:M;return t=>{U(t,e)}},R={blank:4e3,error:4e3,success:2e3,loading:1/0,custom:4e3},H=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:M,[r,a]=(0,B.useState)(z[t]||F),s=(0,B.useRef)(z[t]);(0,B.useEffect)(()=>(s.current!==z[t]&&a(z[t]),I.push([t,a]),()=>{let e=I.findIndex(e=>{let[r]=e;return r===t});e>-1&&I.splice(e,1)}),[t]);let n=r.toasts.map(t=>{var r,a,s;return O(O(O(O({},e),e[t.type]),t),{},{removeDelay:t.removeDelay||(null==(r=e[t.type])?void 0:r.removeDelay)||(null==e?void 0:e.removeDelay),duration:t.duration||(null==(a=e[t.type])?void 0:a.duration)||(null==e?void 0:e.duration)||R[t.type],style:O(O(O({},e.style),null==(s=e[t.type])?void 0:s.style),t.style)})});return O(O({},r),{},{toasts:n})},V=e=>(t,r)=>{let a=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"blank",r=arguments.length>2?arguments[2]:void 0;return O(O({createdAt:Date.now(),visible:!0,dismissed:!1,type:t,ariaProps:{role:"status","aria-live":"polite"},message:e,pauseDuration:0},r),{},{id:(null==r?void 0:r.id)||q()})}(t,e,r);return L(a.toasterId||(e=>Object.keys(z).find(t=>z[t].toasts.some(t=>t.id===e)))(a.id))({type:2,toast:a}),a.id},J=(e,t)=>V("blank")(e,t);J.error=V("error"),J.success=V("success"),J.loading=V("loading"),J.custom=V("custom"),J.dismiss=(e,t)=>{let r={type:3,toastId:e};t?L(t)(r):Q(r)},J.dismissAll=e=>J.dismiss(void 0,e),J.remove=(e,t)=>{let r={type:4,toastId:e};t?L(t)(r):Q(r)},J.removeAll=e=>J.remove(void 0,e),J.promise=(e,t,r)=>{let a=J.loading(t.loading,O(O({},r),null==r?void 0:r.loading));return"function"==typeof e&&(e=e()),e.then(e=>{let s=t.success?D(t.success,e):void 0;return s?J.success(s,O(O({id:a},r),null==r?void 0:r.success)):J.dismiss(a),e}).catch(e=>{let s=t.error?D(t.error,e):void 0;s?J.error(s,O(O({id:a},r),null==r?void 0:r.error)):J.dismiss(a)}),e};var Y=r(1),Z=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"default",{toasts:r,pausedAt:a}=H(e,t),s=(0,Y.useRef)(new Map).current,n=(0,Y.useCallback)(function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1e3;if(s.has(e))return;let r=setTimeout(()=>{s.delete(e),i({type:4,toastId:e})},t);s.set(e,r)},[]);(0,Y.useEffect)(()=>{if(a)return;let e=Date.now(),s=r.map(r=>{if(r.duration===1/0)return;let a=(r.duration||0)+r.pauseDuration-(e-r.createdAt);if(!(a<0))return setTimeout(()=>J.dismiss(r.id,t),a);r.visible&&J.dismiss(r.id)});return()=>{s.forEach(e=>e&&clearTimeout(e))}},[r,a,t]);let i=(0,Y.useCallback)(L(t),[t]),o=(0,Y.useCallback)(()=>{i({type:5,time:Date.now()})},[i]),c=(0,Y.useCallback)((e,t)=>{i({type:1,toast:{id:e,height:t}})},[i]),l=(0,Y.useCallback)(()=>{a&&i({type:6,time:Date.now()})},[a,i]),d=(0,Y.useCallback)((e,t)=>{let{reverseOrder:a=!1,gutter:s=8,defaultPosition:n}=t||{},i=r.filter(t=>(t.position||n)===(e.position||n)&&t.height),o=i.findIndex(t=>t.id===e.id),c=i.filter((e,t)=>t<o&&e.visible).length;return i.filter(e=>e.visible).slice(...a?[c+1]:[0,c]).reduce((e,t)=>e+(t.height||0)+s,0)},[r]);return(0,Y.useEffect)(()=>{r.forEach(e=>{if(e.dismissed)n(e.id,e.removeDelay);else{let t=s.get(e.id);t&&(clearTimeout(t),s.delete(e.id))}})},[r,n]),{toasts:r,handlers:{updateHeight:c,startPause:o,endPause:l,calculateOffset:d}}},$=A(r(1)),G=r(58),K=A(r(1)),W=r(58),X=r(58),ee=X.keyframes(a||(a=g(["\nfrom {\n  transform: scale(0) rotate(45deg);\n\topacity: 0;\n}\nto {\n transform: scale(1) rotate(45deg);\n  opacity: 1;\n}"]))),te=X.keyframes(s||(s=g(["\nfrom {\n  transform: scale(0);\n  opacity: 0;\n}\nto {\n  transform: scale(1);\n  opacity: 1;\n}"]))),re=X.keyframes(n||(n=g(["\nfrom {\n  transform: scale(0) rotate(90deg);\n\topacity: 0;\n}\nto {\n  transform: scale(1) rotate(90deg);\n\topacity: 1;\n}"]))),ae=(0,X.styled)("div")(i||(i=g(["\n  width: 20px;\n  opacity: 0;\n  height: 20px;\n  border-radius: 10px;\n  background: ",";\n  position: relative;\n  transform: rotate(45deg);\n\n  animation: "," 0.3s cubic-bezier(0.175, 0.885, 0.32, 1.275)\n    forwards;\n  animation-delay: 100ms;\n\n  &:after,\n  &:before {\n    content: '';\n    animation: "," 0.15s ease-out forwards;\n    animation-delay: 150ms;\n    position: absolute;\n    border-radius: 3px;\n    opacity: 0;\n    background: ",";\n    bottom: 9px;\n    left: 4px;\n    height: 2px;\n    width: 12px;\n  }\n\n  &:before {\n    animation: "," 0.15s ease-out forwards;\n    animation-delay: 180ms;\n    transform: rotate(90deg);\n  }\n"])),e=>e.primary||"#ff4b4b",ee,te,e=>e.secondary||"#fff",re),se=r(58),ne=se.keyframes(o||(o=g(["\n  from {\n    transform: rotate(0deg);\n  }\n  to {\n    transform: rotate(360deg);\n  }\n"]))),ie=(0,se.styled)("div")(c||(c=g(["\n  width: 12px;\n  height: 12px;\n  box-sizing: border-box;\n  border: 2px solid;\n  border-radius: 100%;\n  border-color: ",";\n  border-right-color: ",";\n  animation: "," 1s linear infinite;\n"])),e=>e.secondary||"#e0e0e0",e=>e.primary||"#616161",ne),oe=r(58),ce=oe.keyframes(l||(l=g(["\nfrom {\n  transform: scale(0) rotate(45deg);\n\topacity: 0;\n}\nto {\n  transform: scale(1) rotate(45deg);\n\topacity: 1;\n}"]))),le=oe.keyframes(d||(d=g(["\n0% {\n\theight: 0;\n\twidth: 0;\n\topacity: 0;\n}\n40% {\n  height: 0;\n\twidth: 6px;\n\topacity: 1;\n}\n100% {\n  opacity: 1;\n  height: 10px;\n}"]))),de=(0,oe.styled)("div")(u||(u=g(["\n  width: 20px;\n  opacity: 0;\n  height: 20px;\n  border-radius: 10px;\n  background: ",";\n  position: relative;\n  transform: rotate(45deg);\n\n  animation: "," 0.3s cubic-bezier(0.175, 0.885, 0.32, 1.275)\n    forwards;\n  animation-delay: 100ms;\n  &:after {\n    content: '';\n    box-sizing: border-box;\n    animation: "," 0.2s ease-out forwards;\n    opacity: 0;\n    animation-delay: 200ms;\n    position: absolute;\n    border-right: 2px solid;\n    border-bottom: 2px solid;\n    border-color: ",";\n    bottom: 6px;\n    left: 6px;\n    height: 10px;\n    width: 6px;\n  }\n"])),e=>e.primary||"#61d345",ce,le,e=>e.secondary||"#fff"),ue=(0,W.styled)("div")(m||(m=g(["\n  position: absolute;\n"]))),me=(0,W.styled)("div")(p||(p=g(["\n  position: relative;\n  display: flex;\n  justify-content: center;\n  align-items: center;\n  min-width: 20px;\n  min-height: 20px;\n"]))),pe=W.keyframes(x||(x=g(["\nfrom {\n  transform: scale(0.6);\n  opacity: 0.4;\n}\nto {\n  transform: scale(1);\n  opacity: 1;\n}"]))),xe=(0,W.styled)("div")(b||(b=g(["\n  position: relative;\n  transform: scale(0.6);\n  opacity: 0.4;\n  min-width: 20px;\n  animation: "," 0.3s 0.12s cubic-bezier(0.175, 0.885, 0.32, 1.275)\n    forwards;\n"])),pe),be=e=>{let{toast:t}=e,{icon:r,type:a,iconTheme:s}=t;return void 0!==r?"string"==typeof r?K.createElement(xe,null,r):r:"blank"===a?null:K.createElement(me,null,K.createElement(ie,O({},s)),"loading"!==a&&K.createElement(ue,null,"error"===a?K.createElement(ae,O({},s)):K.createElement(de,O({},s))))},ye=e=>"\n0% {transform: translate3d(0,".concat(-200*e,"%,0) scale(.6); opacity:.5;}\n100% {transform: translate3d(0,0,0) scale(1); opacity:1;}\n"),fe=e=>"\n0% {transform: translate3d(0,0,-1px) scale(1); opacity:1;}\n100% {transform: translate3d(0,".concat(-150*e,"%,-1px) scale(.6); opacity:0;}\n"),je=(0,G.styled)("div")(y||(y=g(["\n  display: flex;\n  align-items: center;\n  background: #fff;\n  color: #363636;\n  line-height: 1.3;\n  will-change: transform;\n  box-shadow: 0 3px 10px rgba(0, 0, 0, 0.1), 0 3px 3px rgba(0, 0, 0, 0.05);\n  max-width: 350px;\n  pointer-events: auto;\n  padding: 8px 10px;\n  border-radius: 8px;\n"]))),he=(0,G.styled)("div")(f||(f=g(["\n  display: flex;\n  justify-content: center;\n  margin: 4px 10px;\n  color: inherit;\n  flex: 1 1 auto;\n  white-space: pre-line;\n"]))),ge=$.memo(e=>{let{toast:t,position:r,style:a,children:s}=e,n=t.height?((e,t)=>{let r=e.includes("top")?1:-1,[a,s]=_()?["0%{opacity:0;} 100%{opacity:1;}","0%{opacity:1;} 100%{opacity:0;}"]:[ye(r),fe(r)];return{animation:t?"".concat((0,G.keyframes)(a)," 0.35s cubic-bezier(.21,1.02,.73,1) forwards"):"".concat((0,G.keyframes)(s)," 0.4s forwards cubic-bezier(.06,.71,.55,1)")}})(t.position||r||"top-center",t.visible):{opacity:0},i=$.createElement(be,{toast:t}),o=$.createElement(he,O({},t.ariaProps),D(t.message,t));return $.createElement(je,{className:t.className,style:O(O(O({},n),a),t.style)},"function"==typeof s?s({icon:i,message:o}):$.createElement($.Fragment,null,i,o))}),Oe=r(58),ve=A(r(1));(0,Oe.setup)(ve.createElement);var ke=e=>{let{id:t,className:r,style:a,onHeightUpdate:s,children:n}=e,i=ve.useCallback(e=>{if(e){let r=()=>{let r=e.getBoundingClientRect().height;s(t,r)};r(),new MutationObserver(r).observe(e,{subtree:!0,childList:!0,characterData:!0})}},[t,s]);return ve.createElement("div",{ref:i,className:r,style:a},n)},Ne=Oe.css(j||(j=g(["\n  z-index: 9999;\n  > * {\n    pointer-events: auto;\n  }\n"]))),we=e=>{let{reverseOrder:t,position:r="top-center",toastOptions:a,gutter:s,children:n,toasterId:i,containerStyle:o,containerClassName:c}=e,{toasts:l,handlers:d}=Z(a,i);return ve.createElement("div",{"data-rht-toaster":i||"",style:O({position:"fixed",zIndex:9999,top:16,left:16,right:16,bottom:16,pointerEvents:"none"},o),className:c,onMouseEnter:d.startPause,onMouseLeave:d.endPause},l.map(e=>{let a=e.position||r,i=((e,t)=>{let r=e.includes("top"),a=r?{top:0}:{bottom:0},s=e.includes("center")?{justifyContent:"center"}:e.includes("right")?{justifyContent:"flex-end"}:{};return O(O({left:0,right:0,display:"flex",position:"absolute",transition:_()?void 0:"all 230ms cubic-bezier(.21,1.02,.73,1)",transform:"translateY(".concat(t*(r?1:-1),"px)")},a),s)})(a,d.calculateOffset(e,{reverseOrder:t,gutter:s,defaultPosition:r}));return ve.createElement(ke,{id:e.id,key:e.id,onHeightUpdate:d.updateHeight,className:e.visible?Ne:"",style:i},"custom"===e.type?D(e.message,e):n?n(e):ve.createElement(ge,{toast:e,position:a}))}))},Ce=J},193:function(e,t){e.exports=function(e,t){return t||(t=e.slice(0)),Object.freeze(Object.defineProperties(e,{raw:{value:Object.freeze(t)}}))},e.exports.__esModule=!0,e.exports.default=e.exports},194:function(e,t,r){var a=r(195);function s(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,a)}return r}e.exports=function(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?s(Object(r),!0).forEach(function(t){a(e,t,r[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):s(Object(r)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e},e.exports.__esModule=!0,e.exports.default=e.exports},195:function(e,t,r){var a=r(196);e.exports=function(e,t,r){return(t=a(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e},e.exports.__esModule=!0,e.exports.default=e.exports},196:function(e,t,r){var a=r(94).default,s=r(197);e.exports=function(e){var t=s(e,"string");return"symbol"==a(t)?t:t+""},e.exports.__esModule=!0,e.exports.default=e.exports},197:function(e,t,r){var a=r(94).default;e.exports=function(e,t){if("object"!=a(e)||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var s=r.call(e,t||"default");if("object"!=a(s))return s;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)},e.exports.__esModule=!0,e.exports.default=e.exports},215:function(e,t,r){"use strict";r.r(t);var a=r(5),s=r(1),n=r(4),i=r(13),o=r(24),c=r(52),l=r(61),d=r(192),u=r.n(d),m=r(25),p=r(3);t.default=function(){var e,t,r,d;const x=Object(n.g)(),{id:b}=Object(n.i)(),{currency:y,formatCurrency:f,getCurrencySymbol:j}=Object(m.b)(),[h,g]=Object(s.useState)(null),[O,v]=Object(s.useState)(!0),[k,N]=Object(s.useState)(""),[w,C]=Object(s.useState)(!1),[E,S]=Object(s.useState)({status:""}),A=async()=>{try{v(!0),N("");const e=await Object(i.b)("/quotations/".concat(b));e.success?g(e.data.quotation):N("Failed to fetch quotation")}catch(k){N("Failed to fetch quotation"),console.error("Error fetching quotation:",k)}finally{v(!1)}},P=()=>{C(!1),S({status:""})},D=e=>e?new Date(e).toLocaleDateString("en-US",{year:"numeric",month:"long",day:"numeric"}):"N/A",q=()=>{var e;return(null===(e=h.items)||void 0===e?void 0:e.reduce((e,t)=>e+(t.totalPrice||0),0))||0},_=()=>{const e=q();return"percentage"===h.discountType?e*h.discountValue/100:h.discountValue||0},B=()=>(q()-_())*h.taxRate/100||0;return Object(s.useEffect)(()=>{b&&A()},[b]),O?Object(p.jsx)("div",{className:"flex items-center justify-center min-h-screen",children:Object(p.jsxs)("div",{className:"text-center",children:[Object(p.jsx)("div",{className:"animate-spin rounded-full h-32 w-32 border-b-2 border-purple-600"}),Object(p.jsx)("p",{className:"mt-4 text-gray-600",children:"Loading quotation..."})]})}):k?Object(p.jsx)("div",{className:"flex items-center justify-center min-h-screen",children:Object(p.jsxs)("div",{className:"text-center",children:[Object(p.jsx)("div",{className:"text-red-500 text-xl mb-4",children:k}),Object(p.jsxs)("div",{className:"space-x-4",children:[Object(p.jsx)(o.Button,{onClick:A,style:{backgroundColor:"#AA1A21"},className:"text-white",children:"Retry"}),Object(p.jsx)(o.Button,{layout:"outline",onClick:()=>x.push("/app/quotations"),children:"Back to Quotations"})]})]})}):h?Object(p.jsxs)(p.Fragment,{children:[Object(p.jsx)("div",{className:"flex justify-between items-center mb-6"}),Object(p.jsxs)("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-6 mb-5",children:[Object(p.jsxs)("div",{className:"lg:col-span-2 space-y-6 mb-5",children:[Object(p.jsx)(o.Card,{children:Object(p.jsxs)(o.CardBody,{children:[Object(p.jsxs)("div",{className:"flex justify-between items-start mb-6",children:[Object(p.jsxs)("div",{children:[Object(p.jsx)("h2",{className:"text-2xl font-bold text-gray-800 dark:text-gray-200 mb-2",children:h.title}),Object(p.jsxs)("p",{className:"text-lg font-semibold text-gray-600 dark:text-gray-400",children:["Quotation #",h.quotationNo]})]}),Object(p.jsxs)("div",{children:[Object(p.jsxs)("div",{children:[Object(p.jsx)("h4",{className:"text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"Date"}),Object(p.jsx)("p",{className:"text-gray-800 dark:text-gray-200 font-medium",children:D(h.date)})]}),h.validUntil&&Object(p.jsxs)("div",{className:"mt-4",children:[Object(p.jsx)("h4",{className:"text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"Valid Until"}),Object(p.jsx)("p",{className:"text-gray-800 dark:text-gray-200 font-medium",children:D(h.validUntil)})]})]}),Object(p.jsxs)("div",{className:"flex items-center gap-2",children:[Object(p.jsx)(o.Badge,{type:(e=>{switch(e){case"accepted":return"success";case"sent":case"viewed":return"primary";case"draft":default:return"neutral";case"rejected":return"danger";case"expired":return"warning"}})(h.status),className:"text-sm px-3 py-1",children:h.status.charAt(0).toUpperCase()+h.status.slice(1)}),Object(p.jsx)(o.Button,{layout:"link",size:"icon","aria-label":"Edit",onClick:()=>x.push("/app/quotations/edit/".concat(h._id)),children:Object(p.jsx)(l.p,{className:"w-5 h-5 text-gray-600 dark:text-gray-300"})})]})]}),h.description&&Object(p.jsxs)("div",{className:"mb-6",children:[Object(p.jsx)("h4",{className:"text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"Description"}),Object(p.jsx)("p",{className:"text-gray-600 dark:text-gray-400",children:h.description})]}),Object(p.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6 mb-6",children:[Object(p.jsxs)("div",{children:[Object(p.jsx)("h4",{className:"text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"Client"}),Object(p.jsxs)("div",{className:"bg-gray-50 dark:bg-gray-700 p-4 rounded-lg",children:[Object(p.jsx)("p",{className:"font-semibold text-gray-800 dark:text-gray-200",children:(null===(e=h.client)||void 0===e?void 0:e.name)||"N/A"}),Object(p.jsx)("p",{className:"text-gray-600 dark:text-gray-400",children:(null===(t=h.client)||void 0===t?void 0:t.businessName)||"N/A"}),(null===(r=h.client)||void 0===r?void 0:r.email)&&Object(p.jsx)("p",{className:"text-gray-600 dark:text-gray-400",children:h.client.email})]})]}),Object(p.jsxs)("div",{children:[Object(p.jsx)("h4",{className:"text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"Currency"}),Object(p.jsx)("div",{className:"bg-gray-50 dark:bg-gray-700 p-4 rounded-lg",children:Object(p.jsx)("p",{className:"font-semibold text-gray-800 dark:text-gray-200",children:h.currency||"USD"})})]})]})]})}),Object(p.jsx)(o.Card,{children:Object(p.jsxs)(o.CardBody,{children:[Object(p.jsx)(c.a,{children:"Quotation Items"}),Object(p.jsx)("div",{className:"overflow-x-auto mb-5",children:Object(p.jsxs)("table",{className:"w-full text-sm",children:[Object(p.jsx)("thead",{children:Object(p.jsxs)("tr",{className:"border-b border-gray-200 dark:border-gray-700",children:[Object(p.jsx)("th",{className:"text-left py-3 px-2 font-medium text-gray-700 dark:text-gray-300",children:"Product"}),Object(p.jsx)("th",{className:"text-left py-3 px-2 font-medium text-gray-700 dark:text-gray-300",children:"Description"}),Object(p.jsx)("th",{className:"text-center py-3 px-2 font-medium text-gray-700 dark:text-gray-300",children:"Quantity"}),Object(p.jsx)("th",{className:"text-right py-3 px-2 font-medium text-gray-700 dark:text-gray-300",children:"Unit Price"}),Object(p.jsx)("th",{className:"text-right py-3 px-2 font-medium text-gray-700 dark:text-gray-300",children:"Total"})]})}),Object(p.jsx)("tbody",{children:null===(d=h.items)||void 0===d?void 0:d.map((e,t)=>{var r;return Object(p.jsxs)("tr",{className:"border-b border-gray-100 dark:border-gray-600",children:[Object(p.jsx)("td",{className:"py-4 px-2 text-gray-800 dark:text-gray-200",children:(null===(r=e.product)||void 0===r?void 0:r.name)||"N/A"}),Object(p.jsx)("td",{className:"py-4 px-2 text-gray-600 dark:text-gray-400",children:e.description||"N/A"}),Object(p.jsx)("td",{className:"py-4 px-2 text-center text-gray-800 dark:text-gray-200",children:e.quantity||1}),Object(p.jsxs)("td",{className:"py-4 px-2 text-right font-medium text-gray-800 dark:text-gray-200",children:[f(e.unitPrice||0),"                                                "]}),Object(p.jsxs)("td",{className:"py-4 px-2 text-right font-medium text-gray-800 dark:text-gray-200",children:[f(e.totalPrice||0),"                                                "]})]},t)})})]})})]})}),(h.notes||h.terms)&&Object(p.jsx)(o.Card,{children:Object(p.jsxs)(o.CardBody,{children:[h.terms&&Object(p.jsxs)("div",{className:"mb-4",children:[Object(p.jsx)("h4",{className:"text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"Terms & Conditions"}),Object(p.jsx)("p",{className:"text-gray-600 dark:text-gray-400 whitespace-pre-wrap",children:h.terms})]}),h.notes&&Object(p.jsxs)("div",{children:[Object(p.jsx)("h4",{className:"text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"Notes"}),Object(p.jsx)("p",{className:"text-gray-600 dark:text-gray-400 whitespace-pre-wrap",children:h.notes})]})]})})]}),Object(p.jsxs)("div",{className:"space-y-6",children:[Object(p.jsx)(o.Card,{children:Object(p.jsxs)(o.CardBody,{children:[Object(p.jsx)("h3",{className:"text-lg font-semibold text-gray-800 dark:text-gray-200 mb-4",children:"Quotation Summary"}),Object(p.jsxs)("div",{className:"space-y-3 mb-4 pb-4 border-b border-gray-200 dark:border-gray-600 text-sm",children:[Object(p.jsxs)("div",{className:"flex justify-between",children:[Object(p.jsx)("span",{className:"text-gray-600 dark:text-gray-400",children:"Subtotal"}),Object(p.jsx)("span",{className:"text-gray-800 dark:text-gray-200 font-medium",children:f(q())})]}),h.discountValue>0&&Object(p.jsxs)("div",{className:"flex justify-between",children:[Object(p.jsxs)("span",{className:"text-gray-600 dark:text-gray-400",children:["Discount (","percentage"===h.discountType?"".concat(h.discountValue,"%"):"Fixed",")"]}),Object(p.jsxs)("span",{className:"text-gray-600 dark:text-gray-400 font-medium",children:[f(_()),"                                        "]})]}),h.taxRate>0&&Object(p.jsxs)("div",{className:"flex justify-between",children:[Object(p.jsxs)("span",{className:"text-gray-600 dark:text-gray-400",children:["Tax (",h.taxRate,"%)"]}),Object(p.jsxs)("span",{className:"text-gray-600 dark:text-gray-400 font-medium",children:[f(B()),"                                        "]})]}),Object(p.jsxs)("div",{className:"border-t border-dashed border-gray-300 dark:border-gray-600 pt-3 mt-3 flex justify-between items-center",children:[Object(p.jsx)("span",{className:"text-xl font-semibold text-gray-800 dark:text-gray-200",children:"Total Amount"}),Object(p.jsxs)("span",{className:"text-2xl font-bold",style:{color:"#AA1A21"},children:[f(q()-_()+B()),"                                    "]})]})]})]})}),Object(p.jsx)(o.Card,{children:Object(p.jsxs)(o.CardBody,{children:[Object(p.jsx)("h3",{className:"text-lg font-semibold text-gray-800 dark:text-gray-200 mb-2",children:"Actions"}),Object(p.jsxs)("div",{className:"space-y-3",children:[Object(p.jsx)(o.Button,{style:{backgroundColor:"#AA1A21"},className:"text-white w-full",onClick:()=>{S({status:h.status}),C(!0)},children:"Update Status"}),Object(p.jsxs)(o.Button,{style:{backgroundColor:"#4CAF50"},className:"text-white w-full",onClick:async()=>{if(window.confirm("Are you sure you want to duplicate this quotation?"))try{const e=await post("/quotations/".concat(b,"/duplicate"));e.success?(u.a.success("Quotation duplicated successfully!"),x.push("/app/quotations")):u.a.error(e.message||"Failed to duplicate quotation")}catch(k){var e,t;console.error("Error duplicating quotation:",k),u.a.error((null===k||void 0===k||null===(e=k.response)||void 0===e||null===(t=e.data)||void 0===t?void 0:t.message)||"Failed to duplicate quotation")}},children:[Object(p.jsx)(l.i,{className:"w-4 h-4 mr-2"}),"Duplicate Quotation"]}),Object(p.jsxs)(o.Button,{block:!0,layout:"outline",onClick:()=>x.push("/app/quotations"),children:[Object(p.jsx)(l.a,{className:"w-4 h-4 mr-2"}),"Back to All Quotations"]})]})]})})]})]}),Object(p.jsxs)(o.Modal,{isOpen:w,onClose:P,children:[Object(p.jsx)(o.ModalHeader,{children:"Update Quotation Status"}),Object(p.jsx)(o.ModalBody,{children:Object(p.jsxs)(o.Label,{children:[Object(p.jsx)("span",{children:"Status"}),Object(p.jsx)(o.Select,{name:"status",value:E.status,onChange:e=>{const{name:t,value:r}=e.target;S(e=>Object(a.a)(Object(a.a)({},e),{},{[t]:r}))},className:"mt-1",children:["draft","sent","viewed","accepted","rejected","expired"].map(e=>Object(p.jsx)("option",{value:e,children:e.charAt(0).toUpperCase()+e.slice(1)},e))})]})}),Object(p.jsxs)(o.ModalFooter,{children:[Object(p.jsx)(o.Button,{layout:"outline",onClick:P,children:"Cancel"}),Object(p.jsx)(o.Button,{onClick:async()=>{if(E.status)try{const e=await Object(i.d)("/quotations/".concat(b,"/status"),{status:E.status});e.success?(u.a.success("Status updated successfully!"),A(),P()):u.a.error(e.message||"Failed to update status")}catch(k){var e,t;console.error("Error updating status:",k),u.a.error((null===k||void 0===k||null===(e=k.response)||void 0===e||null===(t=e.data)||void 0===t?void 0:t.message)||"Failed to update status")}else u.a.error("Status is required.")},children:"Update Status"})]})]})]}):Object(p.jsx)("div",{className:"flex items-center justify-center min-h-screen",children:Object(p.jsxs)("div",{className:"text-center",children:[Object(p.jsx)("div",{className:"text-gray-500 text-xl mb-4",children:"Quotation not found"}),Object(p.jsx)(o.Button,{layout:"outline",onClick:()=>x.push("/app/quotations"),children:"Back to Quotations"})]})})}},52:function(e,t,r){"use strict";r(1);var a=r(3);t.a=function(e){let{children:t}=e;return Object(a.jsx)("h2",{className:"mb-4 text-lg font-semibold text-gray-600 dark:text-gray-300",children:t})}},58:function(e,t,r){"use strict";r.r(t),r.d(t,"css",function(){return x}),r.d(t,"extractCss",function(){return n}),r.d(t,"glob",function(){return j}),r.d(t,"keyframes",function(){return h}),r.d(t,"setup",function(){return g}),r.d(t,"styled",function(){return O});let a={data:""},s=e=>"object"==typeof window?((e?e.querySelector("#_goober"):window._goober)||Object.assign((e||document.head).appendChild(document.createElement("style")),{innerHTML:" ",id:"_goober"})).firstChild:e||a,n=e=>{let t=s(e),r=t.data;return t.data="",r},i=/(?:([\u0080-\uFFFF\w-%@]+) *:? *([^{;]+?);|([^;}{]*?) *{)|(}\s*)/g,o=/\/\*[^]*?\*\/|  +/g,c=/\n+/g,l=(e,t)=>{let r="",a="",s="";for(let n in e){let i=e[n];"@"==n[0]?"i"==n[1]?r=n+" "+i+";":a+="f"==n[1]?l(i,n):n+"{"+l(i,"k"==n[1]?"":t)+"}":"object"==typeof i?a+=l(i,t?t.replace(/([^,])+/g,e=>n.replace(/([^,]*:\S+\([^)]*\))|([^,])+/g,t=>/&/.test(t)?t.replace(/&/g,e):e?e+" "+t:t)):n):null!=i&&(n=/^--/.test(n)?n:n.replace(/[A-Z]/g,"-$&").toLowerCase(),s+=l.p?l.p(n,i):n+":"+i+";")}return r+(t&&s?t+"{"+s+"}":s)+a},d={},u=e=>{if("object"==typeof e){let t="";for(let r in e)t+=r+u(e[r]);return t}return e},m=(e,t,r,a,s)=>{let n=u(e),m=d[n]||(d[n]=(e=>{let t=0,r=11;for(;t<e.length;)r=101*r+e.charCodeAt(t++)>>>0;return"go"+r})(n));if(!d[m]){let t=n!==e?e:(e=>{let t,r,a=[{}];for(;t=i.exec(e.replace(o,""));)t[4]?a.shift():t[3]?(r=t[3].replace(c," ").trim(),a.unshift(a[0][r]=a[0][r]||{})):a[0][t[1]]=t[2].replace(c," ").trim();return a[0]})(e);d[m]=l(s?{["@keyframes "+m]:t}:t,r?"":"."+m)}let p=r&&d.g?d.g:null;return r&&(d.g=d[m]),((e,t,r,a)=>{a?t.data=t.data.replace(a,e):-1===t.data.indexOf(e)&&(t.data=r?e+t.data:t.data+e)})(d[m],t,a,p),m},p=(e,t,r)=>e.reduce((e,a,s)=>{let n=t[s];if(n&&n.call){let e=n(r),t=e&&e.props&&e.props.className||/^go/.test(e)&&e;n=t?"."+t:e&&"object"==typeof e?e.props?"":l(e,""):!1===e?"":e}return e+a+(null==n?"":n)},"");function x(e){let t=this||{},r=e.call?e(t.p):e;return m(r.unshift?r.raw?p(r,[].slice.call(arguments,1),t.p):r.reduce((e,r)=>Object.assign(e,r&&r.call?r(t.p):r),{}):r,s(t.target),t.g,t.o,t.k)}let b,y,f,j=x.bind({g:1}),h=x.bind({k:1});function g(e,t,r,a){l.p=t,b=e,y=r,f=a}function O(e,t){let r=this||{};return function(){let a=arguments;function s(n,i){let o=Object.assign({},n),c=o.className||s.className;r.p=Object.assign({theme:y&&y()},o),r.o=/ *go\d+/.test(c),o.className=x.apply(r,a)+(c?" "+c:""),t&&(o.ref=i);let l=e;return e[0]&&(l=o.as||e,delete o.as),f&&l[0]&&f(o),b(l,o)}return t?t(s):s}}},94:function(e,t){function r(t){return e.exports=r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},e.exports.__esModule=!0,e.exports.default=e.exports,r(t)}e.exports=r,e.exports.__esModule=!0,e.exports.default=e.exports}}]);
//# sourceMappingURL=7.bda1ad3d.chunk.js.map